import{_ as Z,f as k,b as p,d as b,e as _,B as q,g as J}from"./index-CBSqXWhX.js";import{_ as $,a as S,b as N}from"./notes-CW0V0xp3.js";import{u as K,_ as Q,D as W,a as C}from"./useStudyTool-PkFciWd3.js";import{_ as X,a as ee}from"./index-BOMZDKFk.js";import{_ as U}from"./index-BdzHGxJo.js";import{_ as A}from"./Input.vue_vue_type_script_setup_true_lang-lPinbX-V.js";import{_ as I}from"./Label.vue_vue_type_script_setup_true_lang-B0GdUf2L.js";import{L as te}from"./loader-circle-9BkXyxvT.js";import{R as se}from"./refresh-cw-kNArrvhI.js";import{C as O}from"./clock-CvoLNaTK.js";import{C as le}from"./circle-check-D96Ex8ht.js";import{a as ae,r as T,c as oe,h as x,j as a,o as r,k as l,l as s,b as f,u as e,p as d,m as E,i as ne,t as c,F as w,q as L}from"./index-CKKeYrgt.js";import"./index-DGsNZAmZ.js";import"./generation-CumKo7zU.js";const de={class:"min-h-full p-6"},re={class:"max-w-5xl mx-auto space-y-6"},ie={class:"flex items-center gap-3"},ue={class:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-blue-500 flex items-center justify-center"},me={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ce={class:"space-y-2"},fe={class:"space-y-2"},pe={class:"flex items-center gap-4"},_e={class:"flex items-center gap-2"},ve={key:0,class:"space-y-4"},ye={class:"flex items-center gap-4 mb-4"},xe={class:"space-y-2"},ge={key:1,class:"space-y-6"},be={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},we={class:"flex items-center gap-3"},he={class:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center"},De={class:"font-semibold"},ke={class:"flex items-center gap-3"},$e={class:"w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center"},Se={class:"font-semibold"},Ce={class:"flex items-center gap-3"},Ee={class:"w-10 h-10 rounded-lg bg-violet-500/10 flex items-center justify-center"},Re={class:"font-semibold"},Ve={class:"relative"},Ne={class:"space-y-6"},Te={class:"flex items-start justify-between"},Le={class:"space-y-2"},je={class:"space-y-3"},Pe={class:"flex-shrink-0 w-6 h-6 rounded-full bg-primary/10 text-primary text-sm font-medium flex items-center justify-center"},Ue={class:"text-sm"},Ae={class:"w-12 h-12 rounded-full bg-muted flex items-center justify-center mx-auto mb-4"},Xe=ae({__name:"StudyPlanPage",setup(Ie){const{isLoading:R,error:j,result:i,selectedContent:h,generate:B}=K("study-plan"),v=T(!0),g=T(""),V=T(2),G=oe(()=>{const o=new Date;return o.setDate(o.getDate()+1),o.toISOString().split("T")[0]}),z=async()=>{if(!g.value)return;const o=v.value?void 0:h.value;await B(o,{force:!0,additionalParams:{examDate:g.value,hoursPerDay:V.value}})},D=o=>new Date(o).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),P=o=>{if(o<60)return`${o}min`;const t=Math.floor(o/60),n=o%60;return n>0?`${t}h ${n}m`:`${t}h`},M=()=>{if(!i.value)return;let o=`# Study Plan

`;o+=`**Exam Date:** ${D(i.value.examDate)}
`,o+=`**Total Study Time:** ${i.value.totalHours} hours

`,o+=`## Schedule

`,i.value.sessions.forEach(u=>{o+=`### ${D(u.date)} - ${u.topic}

`,o+=`**Duration:** ${P(u.duration)}

`,o+=`**Activities:**
${u.activities.map(y=>`- ${y}`).join(`
`)}

`}),o+=`## Recommendations

`,o+=i.value.recommendations.map(u=>`- ${u}`).join(`
`);const t=new Blob([o],{type:"text/markdown"}),n=URL.createObjectURL(t),m=document.createElement("a");m.href=n,m.download="study-plan.md",m.click(),URL.revokeObjectURL(n)},F=()=>{if(!i.value)return;let o=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//AI Study Guide//EN
`;i.value.sessions.forEach(u=>{const y=new Date(u.date),H=y.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",Y=new Date(y.getTime()+u.duration*6e4).toISOString().replace(/[-:]/g,"").split(".")[0]+"Z";o+=`BEGIN:VEVENT
`,o+=`DTSTART:${H}
`,o+=`DTEND:${Y}
`,o+=`SUMMARY:Study: ${u.topic}
`,o+=`DESCRIPTION:${u.activities.join("\\n")}
`,o+=`END:VEVENT
`}),o+="END:VCALENDAR";const t=new Blob([o],{type:"text/calendar"}),n=URL.createObjectURL(t),m=document.createElement("a");m.href=n,m.download="study-plan.ics",m.click(),URL.revokeObjectURL(n)};return(o,t)=>(r(),x(Z,null,{default:a(()=>[l("div",de,[l("div",re,[l("div",ie,[l("div",ue,[s(e(k),{class:"w-6 h-6 text-white"})]),t[5]||(t[5]=l("div",null,[l("h1",{class:"text-2xl font-bold"},"Study Plan"),l("p",{class:"text-muted-foreground"},"Create a personalized study schedule for your exam")],-1))]),s(e(_),null,{default:a(()=>[s(e($),null,{default:a(()=>[s(e(S),{class:"text-lg"},{default:a(()=>[...t[6]||(t[6]=[d("Generate Study Plan",-1)])]),_:1}),s(e(N),null,{default:a(()=>[...t[7]||(t[7]=[d(" Set your exam date and available study time to get a customized schedule ",-1)])]),_:1})]),_:1}),s(e(p),{class:"space-y-4"},{default:a(()=>[l("div",me,[l("div",ce,[s(e(I),{htmlFor:"examDate"},{default:a(()=>[...t[8]||(t[8]=[d("Exam Date",-1)])]),_:1}),s(e(A),{id:"examDate",type:"date",modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=n=>g.value=n),min:G.value},null,8,["modelValue","min"])]),l("div",fe,[s(e(I),{htmlFor:"hoursPerDay"},{default:a(()=>[...t[9]||(t[9]=[d("Hours per Day",-1)])]),_:1}),s(e(A),{id:"hoursPerDay",type:"number",modelValue:V.value,"onUpdate:modelValue":t[1]||(t[1]=n=>V.value=n),modelModifiers:{number:!0},min:"1",max:"12"},null,8,["modelValue"])])]),l("div",pe,[s(e(b),{variant:v.value?"default":"outline",size:"sm",onClick:t[2]||(t[2]=n=>v.value=!0)},{default:a(()=>[...t[10]||(t[10]=[d(" Use All Notes ",-1)])]),_:1},8,["variant"]),s(e(b),{variant:v.value?"outline":"default",size:"sm",onClick:t[3]||(t[3]=n=>v.value=!1)},{default:a(()=>[...t[11]||(t[11]=[d(" Custom Topics ",-1)])]),_:1},8,["variant"])]),v.value?E("",!0):(r(),x(e(Q),{key:0,modelValue:e(h),"onUpdate:modelValue":t[4]||(t[4]=n=>ne(h)?h.value=n:null),placeholder:"List the topics you need to cover...",class:"min-h-[100px] resize-y"},null,8,["modelValue"])),e(j)?(r(),x(e(X),{key:1,variant:"destructive"},{default:a(()=>[s(e(ee),null,{default:a(()=>[d(c(e(j)),1)]),_:1})]),_:1})):E("",!0),l("div",_e,[s(e(b),{disabled:e(R)||!g.value,onClick:z},{default:a(()=>[e(R)?(r(),f(w,{key:0},[s(e(te),{class:"w-4 h-4 mr-2 animate-spin"}),t[12]||(t[12]=d(" Generating... ",-1))],64)):(r(),f(w,{key:1},[s(e(se),{class:"w-4 h-4 mr-2"}),t[13]||(t[13]=d(" Generate Plan ",-1))],64))]),_:1},8,["disabled"]),e(i)?(r(),x(e(b),{key:0,variant:"outline",onClick:M},{default:a(()=>[s(e(W),{class:"w-4 h-4 mr-2"}),t[14]||(t[14]=d(" Markdown ",-1))]),_:1})):E("",!0),e(i)?(r(),x(e(b),{key:1,variant:"outline",onClick:F},{default:a(()=>[s(e(k),{class:"w-4 h-4 mr-2"}),t[15]||(t[15]=d(" Calendar ",-1))]),_:1})):E("",!0)])]),_:1})]),_:1}),e(R)?(r(),f("div",ve,[s(e(_),null,{default:a(()=>[s(e(p),{class:"p-6"},{default:a(()=>[l("div",ye,[s(e(C),{class:"h-12 w-12 rounded-lg"}),l("div",xe,[s(e(C),{class:"h-5 w-32"}),s(e(C),{class:"h-4 w-24"})])]),s(e(C),{class:"h-40 w-full rounded-lg"})]),_:1})]),_:1})])):e(i)?(r(),f("div",ge,[l("div",be,[s(e(_),null,{default:a(()=>[s(e(p),{class:"p-4"},{default:a(()=>[l("div",we,[l("div",he,[s(e(k),{class:"w-5 h-5 text-primary"})]),l("div",null,[t[16]||(t[16]=l("p",{class:"text-sm text-muted-foreground"},"Exam Date",-1)),l("p",De,c(D(e(i).examDate)),1)])])]),_:1})]),_:1}),s(e(_),null,{default:a(()=>[s(e(p),{class:"p-4"},{default:a(()=>[l("div",ke,[l("div",$e,[s(e(O),{class:"w-5 h-5 text-green-500"})]),l("div",null,[t[17]||(t[17]=l("p",{class:"text-sm text-muted-foreground"},"Total Study Time",-1)),l("p",Se,c(e(i).totalHours)+" hours",1)])])]),_:1})]),_:1}),s(e(_),null,{default:a(()=>[s(e(p),{class:"p-4"},{default:a(()=>[l("div",Ce,[l("div",Ee,[s(e(q),{class:"w-5 h-5 text-violet-500"})]),l("div",null,[t[18]||(t[18]=l("p",{class:"text-sm text-muted-foreground"},"Study Sessions",-1)),l("p",Re,c(e(i).sessions.length)+" sessions",1)])])]),_:1})]),_:1})]),s(e(_),null,{default:a(()=>[s(e($),null,{default:a(()=>[s(e(S),{class:"text-lg"},{default:a(()=>[...t[19]||(t[19]=[d("Study Schedule",-1)])]),_:1}),s(e(N),null,{default:a(()=>[...t[20]||(t[20]=[d(" Your personalized study timeline ",-1)])]),_:1})]),_:1}),s(e(p),null,{default:a(()=>[s(e(J),{class:"h-[400px] pr-4"},{default:a(()=>[l("div",Ve,[t[22]||(t[22]=l("div",{class:"absolute left-4 top-0 bottom-0 w-0.5 bg-border"},null,-1)),l("div",Ne,[(r(!0),f(w,null,L(e(i).sessions,(n,m)=>(r(),f("div",{key:n.id,class:"relative pl-10"},[t[21]||(t[21]=l("div",{class:"absolute left-2.5 w-3 h-3 rounded-full bg-primary border-2 border-background"},null,-1)),s(e(_),null,{default:a(()=>[s(e($),{class:"pb-2"},{default:a(()=>[l("div",Te,[l("div",null,[s(e(U),{variant:"outline",class:"mb-2"},{default:a(()=>[d(" Day "+c(m+1)+" â€¢ "+c(D(n.date)),1)]),_:2},1024),s(e(S),{class:"text-base"},{default:a(()=>[d(c(n.topic),1)]),_:2},1024)]),s(e(U),{variant:"secondary"},{default:a(()=>[s(e(O),{class:"w-3 h-3 mr-1"}),d(" "+c(P(n.duration)),1)]),_:2},1024)])]),_:2},1024),s(e(p),null,{default:a(()=>[l("ul",Le,[(r(!0),f(w,null,L(n.activities,(u,y)=>(r(),f("li",{key:y,class:"flex items-start gap-2 text-sm"},[s(e(le),{class:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),l("span",null,c(u),1)]))),128))])]),_:2},1024)]),_:2},1024)]))),128))])])]),_:1})]),_:1})]),_:1}),s(e(_),null,{default:a(()=>[s(e($),null,{default:a(()=>[s(e(S),{class:"text-lg"},{default:a(()=>[...t[23]||(t[23]=[d("Study Tips",-1)])]),_:1}),s(e(N),null,{default:a(()=>[...t[24]||(t[24]=[d(" Recommendations for effective studying ",-1)])]),_:1})]),_:1}),s(e(p),null,{default:a(()=>[l("ul",je,[(r(!0),f(w,null,L(e(i).recommendations,(n,m)=>(r(),f("li",{key:m,class:"flex items-start gap-3"},[l("span",Pe,c(m+1),1),l("span",Ue,c(n),1)]))),128))])]),_:1})]),_:1})])):(r(),x(e(_),{key:2,class:"border-dashed"},{default:a(()=>[s(e(p),{class:"p-12 text-center"},{default:a(()=>[l("div",Ae,[s(e(k),{class:"w-6 h-6 text-muted-foreground"})]),t[25]||(t[25]=l("h3",{class:"font-semibold mb-1"},"No Study Plan Yet",-1)),t[26]||(t[26]=l("p",{class:"text-sm text-muted-foreground"},' Set your exam date and click "Generate Plan" to create your schedule ',-1))]),_:1})]),_:1}))])])]),_:1}))}});export{Xe as default};
