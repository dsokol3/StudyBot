import{i as O}from"./index-Cf8dpYKy.js";import{g as V,r as _,e as p,c as b,f as h}from"./index-mcUVKpX-.js";function y(i){return JSON.parse(JSON.stringify(i))}function w(i,o,$,x={}){var u,n;const{clone:f=!1,passive:N=!1,eventName:S,deep:a=!1,defaultValue:J,shouldEmit:d}=x,e=V(),c=$||e?.emit||(e==null||(u=e.$emit)===null||u===void 0?void 0:u.bind(e))||(e==null||(n=e.proxy)===null||n===void 0||(n=n.$emit)===null||n===void 0?void 0:n.bind(e?.proxy));let l=S;l=l||`update:${o.toString()}`;const m=t=>f?typeof f=="function"?f(t):y(t):t,v=()=>O(i[o])?m(i[o]):J,g=t=>{d?d(t)&&c(l,t):c(l,t)};if(N){const t=_(v());let s=!1;return p(()=>i[o],r=>{s||(s=!0,t.value=m(r),h(()=>s=!1))}),p(t,r=>{!s&&(r!==i[o]||a)&&g(r)},{deep:a}),t}else return b({get(){return v()},set(t){g(t)}})}export{w as u};
