import{a as O,r as F,c as _,h,j as l,o as n,y as P,k as s,l as r,u as a,p as m,m as y,b as i,n as p,t as c,F as g,q as $,z as V,A as q}from"./index-BpwbO6jE.js";import{c as Q,_ as E,B as G,e as K,b as R,U as Y,F as H,d as w}from"./index-C4Lle3dT.js";import{u as J,_ as W,a as Z,b as ee}from"./notes-DNIFI5MH.js";import{_ as te}from"./Progress.vue_vue_type_script_setup_true_lang-BnT9vDi-.js";import{_ as se,a as ae}from"./index-BT8pngVr.js";import{X as oe}from"./x-BdcQIDGZ.js";import{L as B}from"./loader-circle-CZ9dHVUk.js";import{C as re}from"./circle-check-DQM7BOnn.js";const S=Q("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),le={class:"min-h-full flex items-center justify-center p-6 bg-white/60 backdrop-blur-sm"},ne={class:"w-full max-w-2xl space-y-6"},ie={class:"text-center space-y-2"},ue={class:"flex justify-center mb-4"},de={class:"w-16 h-16 rounded-2xl bg-gradient-to-br from-violet-500 to-fuchsia-500 flex items-center justify-center shadow-lg"},ce=["accept"],me={class:"flex flex-col items-center gap-3 text-center"},fe={class:"font-medium"},pe={key:1,class:"space-y-2"},ge={class:"flex items-center justify-between text-sm"},ve={class:"truncate max-w-[70%]"},xe={key:2,class:"space-y-2"},_e={class:"text-sm font-medium"},he={class:"space-y-2"},ye={class:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center"},we={class:"flex-1 min-w-0"},ke={class:"text-sm font-medium truncate"},be={class:"text-xs text-muted-foreground"},De={class:"flex flex-col items-center gap-3"},Ce=10*1024*1024,Ne=O({__name:"UploadPage",setup(Fe){const z=P(),u=J(),d=F(!1),f=F(null),v=[".pdf",".txt",".md",".docx"],x=_(()=>Array.from(u.uploadQueue.values())),U=_(()=>u.notes.length>0),k=_(()=>x.value.some(t=>t.status==="uploading")),j=t=>{t.preventDefault(),d.value=!0},T=t=>{t.preventDefault(),d.value=!1},M=t=>{t.preventDefault(),d.value=!1;const e=t.dataTransfer?.files;e&&b(Array.from(e))},N=t=>{const e=t.target;e.files&&b(Array.from(e.files)),e.value=""},b=async t=>{f.value=null;const e=t.filter(o=>{const C="."+o.name.split(".").pop()?.toLowerCase();return v.includes(C)?o.size>Ce?(f.value=`File "${o.name}" is too large. Maximum size is 10MB.`,!1):!0:(f.value=`File "${o.name}" has an unsupported format. Please use ${v.join(", ")}`,!1)});e.length>0&&await u.uploadFiles(e)},A=t=>{u.removeNote(t)},D=()=>{z.push("/dashboard")},I=t=>{switch(t){case"complete":return re;case"error":return S;default:return B}},L=t=>{switch(t){case"complete":return"text-green-500";case"error":return"text-destructive";default:return"text-muted-foreground"}},X=t=>t<1024?t+" B":t<1024*1024?(t/1024).toFixed(1)+" KB":(t/(1024*1024)).toFixed(1)+" MB";return(t,e)=>(n(),h(E,null,{default:l(()=>[s("div",le,[s("div",ne,[s("div",ie,[s("div",ue,[s("div",de,[r(a(G),{class:"w-8 h-8 text-white"})])]),e[1]||(e[1]=s("h1",{class:"text-3xl font-bold tracking-tight"},"AI Study Guide",-1)),e[2]||(e[2]=s("p",{class:"text-muted-foreground"}," Upload your study materials to get started with AI-powered learning tools ",-1))]),r(a(K),null,{default:l(()=>[r(a(W),null,{default:l(()=>[r(a(Z),null,{default:l(()=>[...e[3]||(e[3]=[m("Upload Study Materials",-1)])]),_:1}),r(a(ee),null,{default:l(()=>[...e[4]||(e[4]=[m(" Drag and drop your files or click to browse. Supports PDF, TXT, MD, and DOCX files. ",-1)])]),_:1})]),_:1}),r(a(R),{class:"space-y-4"},{default:l(()=>[s("div",{class:p(["relative border-2 border-dashed rounded-xl p-8 transition-all duration-200 cursor-pointer",d.value?"border-primary bg-primary/5 scale-[1.02]":"border-muted-foreground/25 hover:border-primary/50 hover:bg-muted/30"]),onDragover:j,onDragleave:T,onDrop:M,onClick:e[0]||(e[0]=o=>t.$refs.fileInput?.click())},[s("input",{ref:"fileInput",type:"file",accept:v.join(","),multiple:"",class:"hidden",onChange:N},null,40,ce),s("div",me,[s("div",{class:p(["w-12 h-12 rounded-full flex items-center justify-center transition-colors",d.value?"bg-primary/20":"bg-muted"])},[r(a(Y),{class:p(["w-6 h-6 transition-colors",d.value?"text-primary":"text-muted-foreground"])},null,8,["class"])],2),s("div",null,[s("p",fe,c(d.value?"Drop files here":"Drag files here or click to browse"),1),e[5]||(e[5]=s("p",{class:"text-sm text-muted-foreground mt-1"}," PDF, TXT, MD, DOCX up to 10MB each ",-1))])])],34),f.value?(n(),h(a(se),{key:0,variant:"destructive"},{default:l(()=>[r(a(S),{class:"h-4 w-4"}),r(a(ae),null,{default:l(()=>[m(c(f.value),1)]),_:1})]),_:1})):y("",!0),x.value.length>0?(n(),i("div",pe,[e[6]||(e[6]=s("p",{class:"text-sm font-medium"},"Uploading...",-1)),(n(!0),i(g,null,$(x.value,o=>(n(),i("div",{key:o.id,class:"space-y-1"},[s("div",ge,[s("span",ve,c(o.filename),1),(n(),h(V(I(o.status)),{class:p(["w-4 h-4",L(o.status),o.status==="uploading"&&"animate-spin"])},null,8,["class"]))]),r(a(te),{"model-value":o.progress,class:"h-1"},null,8,["model-value"])]))),128))])):y("",!0),a(u).notes.length>0?(n(),i("div",xe,[s("p",_e,"Uploaded Files ("+c(a(u).notes.length)+")",1),s("div",he,[(n(!0),i(g,null,$(a(u).notes,o=>(n(),i("div",{key:o.id,class:"flex items-center gap-3 p-3 rounded-lg bg-muted/50 group"},[s("div",ye,[r(a(H),{class:"w-4 h-4 text-primary"})]),s("div",we,[s("p",ke,c(o.filename),1),s("p",be,c(X(o.size))+" â€¢ "+c(o.type.toUpperCase()),1)]),r(a(w),{variant:"ghost",size:"icon",class:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:q(C=>A(o.id),["stop"])},{default:l(()=>[r(a(oe),{class:"w-4 h-4"})]),_:1},8,["onClick"])]))),128))])])):y("",!0)]),_:1})]),_:1}),s("div",De,[r(a(w),{size:"lg",disabled:!U.value||k.value,class:"min-w-[200px]",onClick:D},{default:l(()=>[k.value?(n(),i(g,{key:0},[r(a(B),{class:"w-4 h-4 mr-2 animate-spin"}),e[7]||(e[7]=m(" Uploading... ",-1))],64)):(n(),i(g,{key:1},[m(" Continue to Dashboard ")],64))]),_:1},8,["disabled"]),r(a(w),{variant:"ghost",size:"sm",class:"text-muted-foreground hover:text-foreground",onClick:D},{default:l(()=>[...e[8]||(e[8]=[m(" Skip for now ",-1)])]),_:1})]),e[9]||(e[9]=s("p",{class:"text-center text-sm text-muted-foreground"}," Your files will be processed securely to generate study materials ",-1))])])]),_:1}))}});export{Ne as default};
