import{_ as q,C as S,b as V,d as b,e as Q}from"./index-d5CyR_L5.js";import{_ as T,a as B,b as I}from"./notes-BQrJ15DB.js";import{u as ee,_ as te,a as z,D as se}from"./useStudyTool-CujrUfLY.js";import{_ as le,a as ae}from"./index-8uRvUlSE.js";import{_ as O}from"./index-D_owOyJ0.js";import{_ as re}from"./Progress.vue_vue_type_script_setup_true_lang-BhCwxDvK.js";import{_ as oe,a as ne,C as ue,b as ie}from"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-B2L4IenR.js";import{_ as E}from"./Input.vue_vue_type_script_setup_true_lang-Bk7Y_fCC.js";import{L as de}from"./loader-circle-Ci7ssC7P.js";import{C as me}from"./check-B9WgevmH.js";import{X as fe}from"./x-BnK3ys8X.js";import{a as ce,r as _,c as F,h as v,j as r,o,k as a,l as s,m as p,b as g,u as t,p as n,i as ve,t as f,F as U,n as A,q as P}from"./index-ChU9sctJ.js";import"./index-B4CRc51z.js";import"./generation-7Dw8gKUS.js";import"./nullish-CHIgUVhi.js";import"./useId-DclKZdgE.js";const pe={class:"min-h-full p-6"},ge={class:"max-w-4xl mx-auto space-y-6"},be={class:"flex items-center gap-3"},_e={class:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center"},ye={class:"flex items-center gap-4"},xe={class:"space-y-3 border-t pt-4"},ke={class:"flex items-center gap-4"},we={key:0,class:"grid grid-cols-3 gap-3"},he={key:1,class:"text-sm text-muted-foreground"},Ce={class:"text-foreground"},$e={class:"flex items-center gap-2"},Ve={class:"space-y-3"},Qe={class:"flex flex-col sm:flex-row items-center justify-between gap-4"},ze={class:"text-center sm:text-left"},Ae={class:"text-muted-foreground"},je={class:"flex items-center gap-2"},Ne={key:2,class:"space-y-4"},Ue={class:"flex items-start justify-between"},De={class:"text-muted-foreground mr-2"},Ee=["onClick"],Le={class:"flex items-center gap-3"},Me={key:2,class:"w-2 h-2 rounded-full bg-current"},Ge={class:"text-sm"},Re={class:"p-3 mt-2 rounded-lg bg-muted/50 text-sm"},Se={key:0,class:"flex justify-center pt-4"},Te={class:"w-12 h-12 rounded-full bg-muted flex items-center justify-center mx-auto mb-4"},rt=ce({__name:"QuestionsPage",setup(Be){const{isLoading:j,error:L,result:d,selectedContent:N,generate:J}=ee("questions"),x=_(!0),y=_(!1),w=_(2),h=_(2),C=_(1),m=_(new Map),i=_(!1),k=_(new Set),M=F(()=>w.value+h.value+C.value),$=F(()=>{if(!d.value)return{correct:0,total:0,percentage:0};let u=0;return d.value.questions.forEach(e=>{m.value.get(e.id)===e.correctAnswer&&u++}),{correct:u,total:d.value.questions.length,percentage:Math.round(u/d.value.questions.length*100)}}),Y=async()=>{const u=x.value?void 0:N.value,e={force:!0};y.value&&(e.easyCount=w.value,e.mediumCount=h.value,e.hardCount=C.value,console.log("Generating with custom difficulty:",{easy:w.value,medium:h.value,hard:C.value,total:M.value})),await J(u,e),m.value.clear(),i.value=!1,k.value.clear()},H=(u,e)=>{i.value||m.value.set(u,e)},X=()=>{i.value=!0},G=()=>{m.value.clear(),i.value=!1,k.value.clear()},K=u=>{k.value.has(u)?k.value.delete(u):k.value.add(u)},D=u=>{const e=d.value?.questions.find(l=>l.id===u);return e&&m.value.get(u)===e.correctAnswer},W=()=>{if(!d.value)return;const u=new Blob([JSON.stringify(d.value,null,2)],{type:"application/json"}),e=URL.createObjectURL(u),l=document.createElement("a");l.href=e,l.download="practice-questions.json",l.click(),URL.revokeObjectURL(e)};return(u,e)=>(o(),v(q,null,{default:r(()=>[a("div",pe,[a("div",ge,[a("div",be,[a("div",_e,[s(t(S),{class:"w-6 h-6 text-white"})]),e[8]||(e[8]=a("div",null,[a("h1",{class:"text-2xl font-bold"},"Practice Questions"),a("p",{class:"text-muted-foreground"},"Test your knowledge with multiple-choice questions")],-1))]),s(t(Q),null,{default:r(()=>[s(t(T),null,{default:r(()=>[s(t(B),{class:"text-lg"},{default:r(()=>[...e[9]||(e[9]=[n("Generate Questions",-1)])]),_:1}),s(t(I),null,{default:r(()=>[...e[10]||(e[10]=[n(" Create practice questions to test your understanding ",-1)])]),_:1})]),_:1}),s(t(V),{class:"space-y-4"},{default:r(()=>[a("div",ye,[s(t(b),{variant:x.value?"default":"outline",size:"sm",onClick:e[0]||(e[0]=l=>x.value=!0),class:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white transition-all"},{default:r(()=>[...e[11]||(e[11]=[n(" ðŸ“š Use All Notes ",-1)])]),_:1},8,["variant"]),s(t(b),{variant:x.value?"outline":"default",size:"sm",onClick:e[1]||(e[1]=l=>x.value=!1),class:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white transition-all"},{default:r(()=>[...e[12]||(e[12]=[n(" âœï¸ Custom Content ",-1)])]),_:1},8,["variant"])]),x.value?p("",!0):(o(),v(t(te),{key:0,modelValue:t(N),"onUpdate:modelValue":e[2]||(e[2]=l=>ve(N)?N.value=l:null),placeholder:"Paste or type the content to create questions from...",class:"min-h-[150px] resize-y"},null,8,["modelValue"])),a("div",xe,[a("div",ke,[s(t(b),{variant:y.value?"outline":"default",size:"sm",onClick:e[3]||(e[3]=l=>y.value=!1),class:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white transition-all"},{default:r(()=>[...e[13]||(e[13]=[n(" ðŸŽ² Auto Difficulty ",-1)])]),_:1},8,["variant"]),s(t(b),{variant:y.value?"default":"outline",size:"sm",onClick:e[4]||(e[4]=l=>y.value=!0),class:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white transition-all"},{default:r(()=>[...e[14]||(e[14]=[n(" âš™ï¸ Custom Difficulty ",-1)])]),_:1},8,["variant"])]),y.value?(o(),g("div",we,[a("div",null,[e[15]||(e[15]=a("label",{class:"text-sm font-medium text-green-600 dark:text-green-400 flex items-center gap-1"},[a("span",null,"âœ“"),n(" Easy Questions ")],-1)),s(t(E),{modelValue:w.value,"onUpdate:modelValue":e[5]||(e[5]=l=>w.value=l),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"0",class:"mt-1 border-green-300 focus:border-green-500 dark:border-green-700 dark:focus:border-green-500"},null,8,["modelValue"])]),a("div",null,[e[16]||(e[16]=a("label",{class:"text-sm font-medium text-yellow-600 dark:text-yellow-400 flex items-center gap-1"},[a("span",null,"âš¡"),n(" Medium Questions ")],-1)),s(t(E),{modelValue:h.value,"onUpdate:modelValue":e[6]||(e[6]=l=>h.value=l),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"0",class:"mt-1 border-yellow-300 focus:border-yellow-500 dark:border-yellow-700 dark:focus:border-yellow-500"},null,8,["modelValue"])]),a("div",null,[e[17]||(e[17]=a("label",{class:"text-sm font-medium text-red-600 dark:text-red-400 flex items-center gap-1"},[a("span",null,"ðŸ”¥"),n(" Hard Questions ")],-1)),s(t(E),{modelValue:C.value,"onUpdate:modelValue":e[7]||(e[7]=l=>C.value=l),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"0",class:"mt-1 border-red-300 focus:border-red-500 dark:border-red-700 dark:focus:border-red-500"},null,8,["modelValue"])])])):p("",!0),y.value?(o(),g("div",he,[e[18]||(e[18]=n(" Total Questions: ",-1)),a("strong",Ce,f(M.value),1)])):p("",!0)]),t(L)?(o(),v(t(le),{key:1,variant:"destructive"},{default:r(()=>[s(t(ae),null,{default:r(()=>[n(f(t(L)),1)]),_:1})]),_:1})):p("",!0),a("div",$e,[s(t(b),{disabled:t(j),onClick:Y,class:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white transition-all"},{default:r(()=>[t(j)?(o(),g(U,{key:0},[s(t(de),{class:"w-4 h-4 mr-2 animate-spin"}),e[19]||(e[19]=n(" Generating... ",-1))],64)):(o(),g(U,{key:1},[n(" âœ¨ Generate Questions ")],64))]),_:1},8,["disabled"]),t(d)&&i.value?(o(),v(t(b),{key:0,variant:"outline",onClick:G},{default:r(()=>[...e[20]||(e[20]=[n(" Try Again ",-1)])]),_:1})):p("",!0)])]),_:1})]),_:1}),t(j)?(o(),v(t(Q),{key:0},{default:r(()=>[s(t(V),{class:"p-6 space-y-4"},{default:r(()=>[s(t(z),{class:"h-6 w-48"}),a("div",Ve,[s(t(z),{class:"h-12 w-full"}),s(t(z),{class:"h-12 w-full"}),s(t(z),{class:"h-12 w-full"}),s(t(z),{class:"h-12 w-full"})])]),_:1})]),_:1})):t(d)&&i.value?(o(),v(t(Q),{key:1,class:A($.value.percentage>=70?"border-green-500/50 bg-green-50/50 dark:bg-green-950/20":"border-orange-500/50 bg-orange-50/50 dark:bg-orange-950/20")},{default:r(()=>[s(t(V),{class:"p-6"},{default:r(()=>[a("div",Qe,[a("div",ze,[e[21]||(e[21]=a("h3",{class:"text-lg font-semibold"},"Quiz Complete!",-1)),a("p",Ae," You scored "+f($.value.correct)+" out of "+f($.value.total)+" ("+f($.value.percentage)+"%) ",1)]),a("div",je,[s(t(b),{variant:"outline",size:"sm",onClick:G},{default:r(()=>[...e[22]||(e[22]=[n(" Try Again ",-1)])]),_:1}),s(t(b),{variant:"outline",size:"sm",onClick:W},{default:r(()=>[s(t(se),{class:"w-4 h-4 mr-2"}),e[23]||(e[23]=n(" Export ",-1))]),_:1})])]),s(t(re),{"model-value":$.value.percentage,class:"h-2 mt-4"},null,8,["model-value"])]),_:1})]),_:1},8,["class"])):p("",!0),t(d)&&t(d).questions.length>0?(o(),g("div",Ne,[(o(!0),g(U,null,P(t(d).questions,(l,Z)=>(o(),g("div",{key:l.id},[s(t(Q),{class:A([i.value&&(D(l.id)?"border-green-500/50":"border-red-500/50")])},{default:r(()=>[s(t(T),{class:"pb-2"},{default:r(()=>[a("div",Ue,[s(t(B),{class:"text-base"},{default:r(()=>[a("span",De,"Q"+f(Z+1)+".",1),n(" "+f(l.question),1)]),_:2},1024),i.value?(o(),v(t(O),{key:0,variant:D(l.id)?"default":"destructive"},{default:r(()=>[n(f(D(l.id)?"Correct":"Incorrect"),1)]),_:2},1032,["variant"])):p("",!0)])]),_:2},1024),s(t(V),{class:"space-y-2"},{default:r(()=>[(o(!0),g(U,null,P(l.options,(R,c)=>(o(),g("div",{key:c,class:A(["p-3 rounded-lg border cursor-pointer transition-all",m.value.get(l.id)===c&&!i.value&&"border-primary bg-primary/5",i.value&&c===l.correctAnswer&&"border-green-500 bg-green-50 dark:bg-green-950/30",i.value&&m.value.get(l.id)===c&&c!==l.correctAnswer&&"border-red-500 bg-red-50 dark:bg-red-950/30",!i.value&&"hover:border-primary/50"]),onClick:Oe=>H(l.id,c)},[a("div",Le,[a("div",{class:A(["w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0",m.value.get(l.id)===c?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/30"])},[i.value&&c===l.correctAnswer?(o(),v(t(me),{key:0,class:"w-4 h-4 text-green-600"})):i.value&&m.value.get(l.id)===c&&c!==l.correctAnswer?(o(),v(t(fe),{key:1,class:"w-4 h-4 text-red-600"})):m.value.get(l.id)===c?(o(),g("div",Me)):p("",!0)],2),a("span",Ge,f(R),1)])],10,Ee))),128)),i.value?(o(),v(t(oe),{key:0,class:"mt-4"},{default:r(()=>[s(t(ne),{asChild:""},{default:r(()=>[s(t(b),{variant:"ghost",size:"sm",class:"w-full justify-between",onClick:R=>K(l.id)},{default:r(()=>[e[24]||(e[24]=a("span",null,"View Explanation",-1)),s(t(ue),{class:A(["w-4 h-4 transition-transform",k.value.has(l.id)&&"rotate-180"])},null,8,["class"])]),_:2},1032,["onClick"])]),_:2},1024),s(t(ie),null,{default:r(()=>[a("div",Re,f(l.explanation),1)]),_:2},1024)]),_:2},1024)):p("",!0)]),_:2},1024)]),_:2},1032,["class"])]))),128)),i.value?p("",!0):(o(),g("div",Se,[s(t(b),{size:"lg",disabled:m.value.size<t(d).questions.length,onClick:X},{default:r(()=>[e[25]||(e[25]=n(" Submit Answers ",-1)),s(t(O),{variant:"secondary",class:"ml-2"},{default:r(()=>[n(f(m.value.size)+"/"+f(t(d).questions.length),1)]),_:1})]),_:1},8,["disabled"])]))])):t(j)?p("",!0):(o(),v(t(Q),{key:3,class:"border-dashed"},{default:r(()=>[s(t(V),{class:"p-12 text-center"},{default:r(()=>[a("div",Te,[s(t(S),{class:"w-6 h-6 text-muted-foreground"})]),e[26]||(e[26]=a("h3",{class:"font-semibold mb-1"},"No Questions Yet",-1)),e[27]||(e[27]=a("p",{class:"text-sm text-muted-foreground"},' Click "Generate Questions" to create practice questions from your materials ',-1))]),_:1})]),_:1}))])])]),_:1}))}});export{rt as default};
