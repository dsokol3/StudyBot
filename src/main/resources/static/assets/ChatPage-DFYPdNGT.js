import{r as R,D as pt,c as P,C as Ie,a as L,h as q,o as C,j as A,s as N,u as g,V as pn,b as O,x as ae,W as Hn,e as Ee,X as Wn,Y as Vn,Z as Ce,_ as jn,l as T,B as kt,M as Je,N as et,L as Xn,$ as Un,a0 as Zn,p as se,t as E,A as Xe,z as _t,a1 as Gn,k as w,n as de,q as Te,m as G,F as Ae,S as Kn,f as Qn}from"./index-mcUVKpX-.js";import{c as be,w as Yn,x as Jn,t as es,P as Ne,l as tt,u as te,y as ts,z as fn,k as ns,q as Ht,s as ss,p as rs,r as os,a as is,d as Se,B as as,F as ve,U as Wt,_ as ls,M as Vt,A as jt,g as cs,b as ct,e as ut}from"./index-Cf8dpYKy.js";import{_ as us}from"./Input.vue_vue_type_script_setup_true_lang-DRCx41xy.js";import{b as ds,a as Ct,u as ps}from"./useId-a_nKhqJJ.js";import{D as fs,T as hs}from"./Teleport-WcsWAhGa.js";import{_ as gs,C as Xt,a as ms,b as xs}from"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-Dja1TK7K.js";import{X as hn}from"./x-DfqWbr3h.js";import{_ as gn}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{L as ft}from"./loader-circle-B90SENqP.js";import{R as vs}from"./refresh-cw-ZUWohy-r.js";import"./index--bcDcqlN.js";const ys=be("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const ws=be("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const bs=be("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const ks=be("file-exclamation-point",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const _s=be("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Cs=be("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const mn=be("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);function Ss(t,e){const n=Yn(!1,300),r=R(null),s=Jn();function i(){r.value=null,n.value=!1}function o(l,a){const u=l.currentTarget,c={x:l.clientX,y:l.clientY},d=$s(c,u.getBoundingClientRect()),f=Ts(c,d),h=As(a.getBoundingClientRect()),p=Ps([...f,...h]);r.value=p,n.value=!0}return pt(l=>{if(t.value&&e.value){const a=c=>o(c,e.value),u=c=>o(c,t.value);t.value.addEventListener("pointerleave",a),e.value.addEventListener("pointerleave",u),l(()=>{t.value?.removeEventListener("pointerleave",a),e.value?.removeEventListener("pointerleave",u)})}}),pt(l=>{if(r.value){const a=u=>{if(!r.value||!(u.target instanceof Element))return;const c=u.target,d={x:u.clientX,y:u.clientY},f=t.value?.contains(c)||e.value?.contains(c),h=!Rs(d,r.value),p=!!c.closest("[data-grace-area-trigger]");f?i():(h||p)&&(i(),s.trigger())};t.value?.ownerDocument.addEventListener("pointermove",a),l(()=>t.value?.ownerDocument.removeEventListener("pointermove",a))}}),{isPointerInTransit:n,onPointerExit:s.on}}function $s(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Ts(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function As(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function Rs(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,a=e[i].y,u=e[o].x,c=e[o].y;a>r!=c>r&&n<(u-l)*(r-a)/(c-a)+l&&(s=!s)}return s}function Ps(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Os(e)}function Os(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}function Ds(t){const e=R(),n=P(()=>e.value?.width??0),r=P(()=>e.value?.height??0);return Ie(()=>{const s=es(t);if(s){e.value={width:s.offsetWidth,height:s.offsetHeight};const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let a,u;if("borderBoxSize"in l){const c=l.borderBoxSize,d=Array.isArray(c)?c[0]:c;a=d.inlineSize,u=d.blockSize}else a=s.offsetWidth,u=s.offsetHeight;e.value={width:a,height:u}});return i.observe(s,{box:"border-box"}),()=>i.unobserve(s)}else e.value=void 0}),{width:n,height:r}}var Bs=L({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,n)=>(C(),q(g(Ne),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:A(()=>[N(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),zs=Bs;const[xn,Es]=tt("PopperRoot");var qs=L({inheritAttrs:!1,__name:"PopperRoot",setup(t){const e=R();return Es({anchor:e,onAnchorChange:n=>e.value=n}),(n,r)=>N(n.$slots,"default")}}),Ls=qs,Ms=L({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{forwardRef:n,currentElement:r}=te(),s=xn();return pn(()=>{s.onAnchorChange(e.reference??r.value)}),(i,o)=>(C(),q(g(Ne),{ref:g(n),as:i.as,"as-child":i.asChild},{default:A(()=>[N(i.$slots,"default")]),_:3},8,["as","as-child"]))}}),Is=Ms;const Ns={key:0,d:"M0 0L6 6L12 0"},Fs={key:1,d:"M0 0L4.58579 4.58579C5.36683 5.36683 6.63316 5.36684 7.41421 4.58579L12 0"};var Hs=L({__name:"Arrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(t){const e=t;return te(),(n,r)=>(C(),q(g(Ne),ae(e,{width:n.width,height:n.height,viewBox:n.asChild?void 0:"0 0 12 6",preserveAspectRatio:n.asChild?void 0:"none"}),{default:A(()=>[N(n.$slots,"default",{},()=>[n.rounded?(C(),O("path",Fs)):(C(),O("path",Ns))])]),_:3},16,["width","height","viewBox","preserveAspectRatio"]))}}),Ws=Hs;function Vs(t){return t!==null}function js(t){return{name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,o=s.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,a=o?0:t.arrowHeight,[u,c]=ht(n),d={start:"0%",center:"50%",end:"100%"}[c],f=(s.arrow?.x??0)+l/2,h=(s.arrow?.y??0)+a/2;let p="",m="";return u==="bottom"?(p=o?d:`${f}px`,m=`${-a}px`):u==="top"?(p=o?d:`${f}px`,m=`${r.floating.height+a}px`):u==="right"?(p=`${-a}px`,m=o?d:`${h}px`):u==="left"&&(p=`${r.floating.width+a}px`,m=o?d:`${h}px`),{data:{x:p,y:m}}}}}function ht(t){const[e,n="center"]=t.split("-");return[e,n]}const Xs=["top","right","bottom","left"],me=Math.min,X=Math.max,Ue=Math.round,We=Math.floor,oe=t=>({x:t,y:t}),Us={left:"right",right:"left",bottom:"top",top:"bottom"},Zs={start:"end",end:"start"};function gt(t,e,n){return X(t,me(e,n))}function pe(t,e){return typeof t=="function"?t(e):t}function fe(t){return t.split("-")[0]}function Oe(t){return t.split("-")[1]}function St(t){return t==="x"?"y":"x"}function $t(t){return t==="y"?"height":"width"}const Gs=new Set(["top","bottom"]);function re(t){return Gs.has(fe(t))?"y":"x"}function Tt(t){return St(re(t))}function Ks(t,e,n){n===void 0&&(n=!1);const r=Oe(t),s=Tt(t),i=$t(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ze(o)),[o,Ze(o)]}function Qs(t){const e=Ze(t);return[mt(t),e,mt(e)]}function mt(t){return t.replace(/start|end/g,e=>Zs[e])}const Ut=["left","right"],Zt=["right","left"],Ys=["top","bottom"],Js=["bottom","top"];function er(t,e,n){switch(t){case"top":case"bottom":return n?e?Zt:Ut:e?Ut:Zt;case"left":case"right":return e?Ys:Js;default:return[]}}function tr(t,e,n,r){const s=Oe(t);let i=er(fe(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(mt)))),i}function Ze(t){return t.replace(/left|right|bottom|top/g,e=>Us[e])}function nr(t){return{top:0,right:0,bottom:0,left:0,...t}}function vn(t){return typeof t!="number"?nr(t):{top:t,right:t,bottom:t,left:t}}function Ge(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Gt(t,e,n){let{reference:r,floating:s}=t;const i=re(e),o=Tt(e),l=$t(o),a=fe(e),u=i==="y",c=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[l]/2-s[l]/2;let h;switch(a){case"top":h={x:c,y:r.y-s.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-s.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Oe(e)){case"start":h[o]-=f*(n&&u?-1:1);break;case"end":h[o]+=f*(n&&u?-1:1);break}return h}const sr=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),a=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:c,y:d}=Gt(u,r,a),f=r,h={},p=0;for(let m=0;m<l.length;m++){const{name:x,fn:k}=l[m],{x:_,y:$,data:y,reset:v}=await k({x:c,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:u,platform:o,elements:{reference:t,floating:e}});c=_??c,d=$??d,h={...h,[x]:{...h[x],...y}},v&&p<=50&&(p++,typeof v=="object"&&(v.placement&&(f=v.placement),v.rects&&(u=v.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):v.rects),{x:c,y:d}=Gt(u,f,a)),m=-1)}return{x:c,y:d,placement:f,strategy:s,middlewareData:h}};async function Le(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:a}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=pe(e,t),p=vn(h),x=l[f?d==="floating"?"reference":"floating":d],k=Ge(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:c,strategy:a})),_=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,$=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),y=await(i.isElement==null?void 0:i.isElement($))?await(i.getScale==null?void 0:i.getScale($))||{x:1,y:1}:{x:1,y:1},v=Ge(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:$,strategy:a}):_);return{top:(k.top-v.top+p.top)/y.y,bottom:(v.bottom-k.bottom+p.bottom)/y.y,left:(k.left-v.left+p.left)/y.x,right:(v.right-k.right+p.right)/y.x}}const rr=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:a}=e,{element:u,padding:c=0}=pe(t,e)||{};if(u==null)return{};const d=vn(c),f={x:n,y:r},h=Tt(s),p=$t(h),m=await o.getDimensions(u),x=h==="y",k=x?"top":"left",_=x?"bottom":"right",$=x?"clientHeight":"clientWidth",y=i.reference[p]+i.reference[h]-f[h]-i.floating[p],v=f[h]-i.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let b=S?S[$]:0;(!b||!await(o.isElement==null?void 0:o.isElement(S)))&&(b=l.floating[$]||i.floating[p]);const z=y/2-v/2,I=b/2-m[p]/2-1,V=me(d[k],I),ne=me(d[_],I),M=V,Z=b-m[p]-ne,F=b/2-m[p]/2+z,ce=gt(M,F,Z),K=!a.arrow&&Oe(s)!=null&&F!==ce&&i.reference[p]/2-(F<M?V:ne)-m[p]/2<0,j=K?F<M?F-M:F-Z:0;return{[h]:f[h]+j,data:{[h]:ce,centerOffset:F-ce-j,...K&&{alignmentOffset:j}},reset:K}}}),or=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:a,elements:u}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...x}=pe(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const k=fe(s),_=re(l),$=fe(l)===l,y=await(a.isRTL==null?void 0:a.isRTL(u.floating)),v=f||($||!m?[Ze(l)]:Qs(l)),S=p!=="none";!f&&S&&v.push(...tr(l,m,p,y));const b=[l,...v],z=await Le(e,x),I=[];let V=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&I.push(z[k]),d){const F=Ks(s,o,y);I.push(z[F[0]],z[F[1]])}if(V=[...V,{placement:s,overflows:I}],!I.every(F=>F<=0)){var ne,M;const F=(((ne=i.flip)==null?void 0:ne.index)||0)+1,ce=b[F];if(ce&&(!(d==="alignment"?_!==re(ce):!1)||V.every(H=>re(H.placement)===_?H.overflows[0]>0:!0)))return{data:{index:F,overflows:V},reset:{placement:ce}};let K=(M=V.filter(j=>j.overflows[0]<=0).sort((j,H)=>j.overflows[1]-H.overflows[1])[0])==null?void 0:M.placement;if(!K)switch(h){case"bestFit":{var Z;const j=(Z=V.filter(H=>{if(S){const he=re(H.placement);return he===_||he==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(he=>he>0).reduce((he,Fn)=>he+Fn,0)]).sort((H,he)=>H[1]-he[1])[0])==null?void 0:Z[0];j&&(K=j);break}case"initialPlacement":K=l;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function Kt(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Qt(t){return Xs.some(e=>t[e]>=0)}const ir=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=pe(t,e);switch(r){case"referenceHidden":{const i=await Le(e,{...s,elementContext:"reference"}),o=Kt(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Qt(o)}}}case"escaped":{const i=await Le(e,{...s,altBoundary:!0}),o=Kt(i,n.floating);return{data:{escapedOffsets:o,escaped:Qt(o)}}}default:return{}}}}},yn=new Set(["left","top"]);async function ar(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=fe(n),l=Oe(n),a=re(n)==="y",u=yn.has(o)?-1:1,c=i&&a?-1:1,d=pe(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof p=="number"&&(h=l==="end"?p*-1:p),a?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const lr=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,a=await ar(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+a.x,y:i+a.y,data:{...a,placement:o}}}}},cr=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:k,y:_}=x;return{x:k,y:_}}},...a}=pe(t,e),u={x:n,y:r},c=await Le(e,a),d=re(fe(s)),f=St(d);let h=u[f],p=u[d];if(i){const x=f==="y"?"top":"left",k=f==="y"?"bottom":"right",_=h+c[x],$=h-c[k];h=gt(_,h,$)}if(o){const x=d==="y"?"top":"left",k=d==="y"?"bottom":"right",_=p+c[x],$=p-c[k];p=gt(_,p,$)}const m=l.fn({...e,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:i,[d]:o}}}}}},ur=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:a=!0,crossAxis:u=!0}=pe(t,e),c={x:n,y:r},d=re(s),f=St(d);let h=c[f],p=c[d];const m=pe(l,e),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(a){const $=f==="y"?"height":"width",y=i.reference[f]-i.floating[$]+x.mainAxis,v=i.reference[f]+i.reference[$]-x.mainAxis;h<y?h=y:h>v&&(h=v)}if(u){var k,_;const $=f==="y"?"width":"height",y=yn.has(fe(s)),v=i.reference[d]-i.floating[$]+(y&&((k=o.offset)==null?void 0:k[d])||0)+(y?0:x.crossAxis),S=i.reference[d]+i.reference[$]+(y?0:((_=o.offset)==null?void 0:_[d])||0)-(y?x.crossAxis:0);p<v?p=v:p>S&&(p=S)}return{[f]:h,[d]:p}}}},dr=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:a=()=>{},...u}=pe(t,e),c=await Le(e,u),d=fe(s),f=Oe(s),h=re(s)==="y",{width:p,height:m}=i.floating;let x,k;d==="top"||d==="bottom"?(x=d,k=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(k=d,x=f==="end"?"top":"bottom");const _=m-c.top-c.bottom,$=p-c.left-c.right,y=me(m-c[x],_),v=me(p-c[k],$),S=!e.middlewareData.shift;let b=y,z=v;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(z=$),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=_),S&&!f){const V=X(c.left,0),ne=X(c.right,0),M=X(c.top,0),Z=X(c.bottom,0);h?z=p-2*(V!==0||ne!==0?V+ne:X(c.left,c.right)):b=m-2*(M!==0||Z!==0?M+Z:X(c.top,c.bottom))}await a({...e,availableWidth:z,availableHeight:b});const I=await o.getDimensions(l.floating);return p!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function nt(){return typeof window<"u"}function ke(t){return At(t)?(t.nodeName||"").toLowerCase():"#document"}function U(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function le(t){var e;return(e=(At(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function At(t){return nt()?t instanceof Node||t instanceof U(t).Node:!1}function J(t){return nt()?t instanceof Element||t instanceof U(t).Element:!1}function ie(t){return nt()?t instanceof HTMLElement||t instanceof U(t).HTMLElement:!1}function Yt(t){return!nt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof U(t).ShadowRoot}const pr=new Set(["inline","contents"]);function Fe(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ee(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!pr.has(s)}const fr=new Set(["table","td","th"]);function hr(t){return fr.has(ke(t))}const gr=[":popover-open",":modal"];function st(t){return gr.some(e=>{try{return t.matches(e)}catch{return!1}})}const mr=["transform","translate","scale","rotate","perspective"],xr=["transform","translate","scale","rotate","perspective","filter"],vr=["paint","layout","strict","content"];function Rt(t){const e=Pt(),n=J(t)?ee(t):t;return mr.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||xr.some(r=>(n.willChange||"").includes(r))||vr.some(r=>(n.contain||"").includes(r))}function yr(t){let e=xe(t);for(;ie(e)&&!Pe(e);){if(Rt(e))return e;if(st(e))return null;e=xe(e)}return null}function Pt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wr=new Set(["html","body","#document"]);function Pe(t){return wr.has(ke(t))}function ee(t){return U(t).getComputedStyle(t)}function rt(t){return J(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xe(t){if(ke(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Yt(t)&&t.host||le(t);return Yt(e)?e.host:e}function wn(t){const e=xe(t);return Pe(e)?t.ownerDocument?t.ownerDocument.body:t.body:ie(e)&&Fe(e)?e:wn(e)}function Me(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=wn(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=U(s);if(i){const l=xt(o);return e.concat(o,o.visualViewport||[],Fe(s)?s:[],l&&n?Me(l):[])}return e.concat(s,Me(s,[],n))}function xt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function bn(t){const e=ee(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ie(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=Ue(n)!==i||Ue(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function Ot(t){return J(t)?t:t.contextElement}function Re(t){const e=Ot(t);if(!ie(e))return oe(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=bn(e);let o=(i?Ue(n.width):n.width)/r,l=(i?Ue(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const br=oe(0);function kn(t){const e=U(t);return!Pt()||!e.visualViewport?br:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kr(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==U(t)?!1:e}function ye(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Ot(t);let o=oe(1);e&&(r?J(r)&&(o=Re(r)):o=Re(t));const l=kr(i,n,r)?kn(i):oe(0);let a=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,c=s.width/o.x,d=s.height/o.y;if(i){const f=U(i),h=r&&J(r)?U(r):r;let p=f,m=xt(p);for(;m&&r&&h!==p;){const x=Re(m),k=m.getBoundingClientRect(),_=ee(m),$=k.left+(m.clientLeft+parseFloat(_.paddingLeft))*x.x,y=k.top+(m.clientTop+parseFloat(_.paddingTop))*x.y;a*=x.x,u*=x.y,c*=x.x,d*=x.y,a+=$,u+=y,p=U(m),m=xt(p)}}return Ge({width:c,height:d,x:a,y:u})}function ot(t,e){const n=rt(t).scrollLeft;return e?e.left+n:ye(le(t)).left+n}function _n(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-ot(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function _r(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=le(r),l=e?st(e.floating):!1;if(r===o||l&&i)return n;let a={scrollLeft:0,scrollTop:0},u=oe(1);const c=oe(0),d=ie(r);if((d||!d&&!i)&&((ke(r)!=="body"||Fe(o))&&(a=rt(r)),ie(r))){const h=ye(r);u=Re(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const f=o&&!d&&!i?_n(o,a):oe(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-a.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-a.scrollTop*u.y+c.y+f.y}}function Cr(t){return Array.from(t.getClientRects())}function Sr(t){const e=le(t),n=rt(t),r=t.ownerDocument.body,s=X(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=X(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ot(t);const l=-n.scrollTop;return ee(r).direction==="rtl"&&(o+=X(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}const Jt=25;function $r(t,e){const n=U(t),r=le(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,a=0;if(s){i=s.width,o=s.height;const c=Pt();(!c||c&&e==="fixed")&&(l=s.offsetLeft,a=s.offsetTop)}const u=ot(r);if(u<=0){const c=r.ownerDocument,d=c.body,f=getComputedStyle(d),h=c.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,p=Math.abs(r.clientWidth-d.clientWidth-h);p<=Jt&&(i-=p)}else u<=Jt&&(i+=u);return{width:i,height:o,x:l,y:a}}const Tr=new Set(["absolute","fixed"]);function Ar(t,e){const n=ye(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ie(t)?Re(t):oe(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,a=s*i.x,u=r*i.y;return{width:o,height:l,x:a,y:u}}function en(t,e,n){let r;if(e==="viewport")r=$r(t,n);else if(e==="document")r=Sr(le(t));else if(J(e))r=Ar(e,n);else{const s=kn(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ge(r)}function Cn(t,e){const n=xe(t);return n===e||!J(n)||Pe(n)?!1:ee(n).position==="fixed"||Cn(n,e)}function Rr(t,e){const n=e.get(t);if(n)return n;let r=Me(t,[],!1).filter(l=>J(l)&&ke(l)!=="body"),s=null;const i=ee(t).position==="fixed";let o=i?xe(t):t;for(;J(o)&&!Pe(o);){const l=ee(o),a=Rt(o);!a&&l.position==="fixed"&&(s=null),(i?!a&&!s:!a&&l.position==="static"&&!!s&&Tr.has(s.position)||Fe(o)&&!a&&Cn(t,o))?r=r.filter(c=>c!==o):s=l,o=xe(o)}return e.set(t,r),r}function Pr(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?st(e)?[]:Rr(e,this._c):[].concat(n),r],l=o[0],a=o.reduce((u,c)=>{const d=en(e,c,s);return u.top=X(d.top,u.top),u.right=me(d.right,u.right),u.bottom=me(d.bottom,u.bottom),u.left=X(d.left,u.left),u},en(e,l,s));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Or(t){const{width:e,height:n}=bn(t);return{width:e,height:n}}function Dr(t,e,n){const r=ie(e),s=le(e),i=n==="fixed",o=ye(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const a=oe(0);function u(){a.x=ot(s)}if(r||!r&&!i)if((ke(e)!=="body"||Fe(s))&&(l=rt(e)),r){const h=ye(e,!0,i,e);a.x=h.x+e.clientLeft,a.y=h.y+e.clientTop}else s&&u();i&&!r&&s&&u();const c=s&&!r&&!i?_n(s,l):oe(0),d=o.left+l.scrollLeft-a.x-c.x,f=o.top+l.scrollTop-a.y-c.y;return{x:d,y:f,width:o.width,height:o.height}}function dt(t){return ee(t).position==="static"}function tn(t,e){if(!ie(t)||ee(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return le(t)===n&&(n=n.ownerDocument.body),n}function Sn(t,e){const n=U(t);if(st(t))return n;if(!ie(t)){let s=xe(t);for(;s&&!Pe(s);){if(J(s)&&!dt(s))return s;s=xe(s)}return n}let r=tn(t,e);for(;r&&hr(r)&&dt(r);)r=tn(r,e);return r&&Pe(r)&&dt(r)&&!Rt(r)?n:r||yr(t)||n}const Br=async function(t){const e=this.getOffsetParent||Sn,n=this.getDimensions,r=await n(t.floating);return{reference:Dr(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function zr(t){return ee(t).direction==="rtl"}const Er={convertOffsetParentRelativeRectToViewportRelativeRect:_r,getDocumentElement:le,getClippingRect:Pr,getOffsetParent:Sn,getElementRects:Br,getClientRects:Cr,getDimensions:Or,getScale:Re,isElement:J,isRTL:zr};function $n(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function qr(t,e){let n=null,r;const s=le(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),i();const u=t.getBoundingClientRect(),{left:c,top:d,width:f,height:h}=u;if(l||e(),!f||!h)return;const p=We(d),m=We(s.clientWidth-(c+f)),x=We(s.clientHeight-(d+h)),k=We(c),$={rootMargin:-p+"px "+-m+"px "+-x+"px "+-k+"px",threshold:X(0,me(1,a))||1};let y=!0;function v(S){const b=S[0].intersectionRatio;if(b!==a){if(!y)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!$n(u,t.getBoundingClientRect())&&o(),y=!1}try{n=new IntersectionObserver(v,{...$,root:s.ownerDocument})}catch{n=new IntersectionObserver(v,$)}n.observe(t)}return o(!0),i}function Lr(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,u=Ot(t),c=s||i?[...u?Me(u):[],...Me(e)]:[];c.forEach(k=>{s&&k.addEventListener("scroll",n,{passive:!0}),i&&k.addEventListener("resize",n)});const d=u&&l?qr(u,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(k=>{let[_]=k;_&&_.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var $;($=h)==null||$.observe(e)})),n()}),u&&!a&&h.observe(u),h.observe(e));let p,m=a?ye(t):null;a&&x();function x(){const k=ye(t);m&&!$n(m,k)&&n(),m=k,p=requestAnimationFrame(x)}return n(),()=>{var k;c.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),d?.(),(k=h)==null||k.disconnect(),h=null,a&&cancelAnimationFrame(p)}}const Mr=lr,Ir=cr,nn=or,Nr=dr,Fr=ir,Hr=rr,Wr=ur,Vr=(t,e,n)=>{const r=new Map,s={platform:Er,...n},i={...s.platform,_c:r};return sr(t,e,{...s,platform:i})};function jr(t){return t!=null&&typeof t=="object"&&"$el"in t}function vt(t){if(jr(t)){const e=t.$el;return At(e)&&ke(e)==="#comment"?null:e}return t}function $e(t){return typeof t=="function"?t():g(t)}function Xr(t){return{name:"arrow",options:t,fn(e){const n=vt($e(t.element));return n==null?{}:Hr({element:n,padding:t.padding}).fn(e)}}}function Tn(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function sn(t,e){const n=Tn(t);return Math.round(e*n)/n}function Ur(t,e,n){n===void 0&&(n={});const r=n.whileElementsMounted,s=P(()=>{var b;return(b=$e(n.open))!=null?b:!0}),i=P(()=>$e(n.middleware)),o=P(()=>{var b;return(b=$e(n.placement))!=null?b:"bottom"}),l=P(()=>{var b;return(b=$e(n.strategy))!=null?b:"absolute"}),a=P(()=>{var b;return(b=$e(n.transform))!=null?b:!0}),u=P(()=>vt(t.value)),c=P(()=>vt(e.value)),d=R(0),f=R(0),h=R(l.value),p=R(o.value),m=Hn({}),x=R(!1),k=P(()=>{const b={position:h.value,left:"0",top:"0"};if(!c.value)return b;const z=sn(c.value,d.value),I=sn(c.value,f.value);return a.value?{...b,transform:"translate("+z+"px, "+I+"px)",...Tn(c.value)>=1.5&&{willChange:"transform"}}:{position:h.value,left:z+"px",top:I+"px"}});let _;function $(){if(u.value==null||c.value==null)return;const b=s.value;Vr(u.value,c.value,{middleware:i.value,placement:o.value,strategy:l.value}).then(z=>{d.value=z.x,f.value=z.y,h.value=z.strategy,p.value=z.placement,m.value=z.middlewareData,x.value=b!==!1})}function y(){typeof _=="function"&&(_(),_=void 0)}function v(){if(y(),r===void 0){$();return}if(u.value!=null&&c.value!=null){_=r(u.value,c.value,$);return}}function S(){s.value||(x.value=!1)}return Ee([i,o,l,s],$,{flush:"sync"}),Ee([u,c],v,{flush:"sync"}),Ee(s,S,{flush:"sync"}),Wn()&&Vn(y),{x:Ce(d),y:Ce(f),strategy:Ce(h),placement:Ce(p),middlewareData:Ce(m),isPositioned:Ce(x),floatingStyles:k,update:$}}const Zr={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[Gr,Kr]=tt("PopperContent");var Qr=L({inheritAttrs:!1,__name:"PopperContent",props:jn({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...Zr}),emits:["placed"],setup(t,{emit:e}){const n=t,r=e,s=xn(),{forwardRef:i,currentElement:o}=te(),l=R(),a=R(),{width:u,height:c}=Ds(a),d=P(()=>n.side+(n.align!=="center"?`-${n.align}`:"")),f=P(()=>typeof n.collisionPadding=="number"?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),h=P(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),p=P(()=>({padding:f.value,boundary:h.value.filter(Vs),altBoundary:h.value.length>0})),m=P(()=>({mainAxis:n.sideFlip,crossAxis:n.alignFlip})),x=ts(()=>[Mr({mainAxis:n.sideOffset+c.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&nn({...p.value,...m.value}),n.avoidCollisions&&Ir({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:n.sticky==="partial"?Wr():void 0,...p.value}),!n.prioritizePosition&&n.avoidCollisions&&nn({...p.value,...m.value}),Nr({...p.value,apply:({elements:M,rects:Z,availableWidth:F,availableHeight:ce})=>{const{width:K,height:j}=Z.reference,H=M.floating.style;H.setProperty("--reka-popper-available-width",`${F}px`),H.setProperty("--reka-popper-available-height",`${ce}px`),H.setProperty("--reka-popper-anchor-width",`${K}px`),H.setProperty("--reka-popper-anchor-height",`${j}px`)}}),a.value&&Xr({element:a.value,padding:n.arrowPadding}),js({arrowWidth:u.value,arrowHeight:c.value}),n.hideWhenDetached&&Fr({strategy:"referenceHidden",...p.value})]),k=P(()=>n.reference??s.anchor.value),{floatingStyles:_,placement:$,isPositioned:y,middlewareData:v}=Ur(k,l,{strategy:n.positionStrategy,placement:d,whileElementsMounted:(...M)=>Lr(...M,{layoutShift:!n.disableUpdateOnLayoutShift,animationFrame:n.updatePositionStrategy==="always"}),middleware:x}),S=P(()=>ht($.value)[0]),b=P(()=>ht($.value)[1]);pn(()=>{y.value&&r("placed")});const z=P(()=>v.value.arrow?.centerOffset!==0),I=R("");pt(()=>{o.value&&(I.value=window.getComputedStyle(o.value).zIndex)});const V=P(()=>v.value.arrow?.x??0),ne=P(()=>v.value.arrow?.y??0);return Kr({placedSide:S,onArrowChange:M=>a.value=M,arrowX:V,arrowY:ne,shouldHideArrow:z}),(M,Z)=>(C(),O("div",{ref_key:"floatingRef",ref:l,"data-reka-popper-content-wrapper":"",style:kt({...g(_),transform:g(y)?g(_).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:I.value,"--reka-popper-transform-origin":[g(v).transformOrigin?.x,g(v).transformOrigin?.y].join(" "),...g(v).hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}})},[T(g(Ne),ae({ref:g(i)},M.$attrs,{"as-child":n.asChild,as:M.as,"data-side":S.value,"data-align":b.value,style:{animation:g(y)?void 0:"none"}}),{default:A(()=>[N(M.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4))}}),Yr=Qr;const Jr={top:"bottom",right:"left",bottom:"top",left:"right"};var eo=L({inheritAttrs:!1,__name:"PopperArrow",props:{width:{type:Number,required:!1},height:{type:Number,required:!1},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(t){const{forwardRef:e}=te(),n=Gr(),r=P(()=>Jr[n.placedSide.value]);return(s,i)=>(C(),O("span",{ref:o=>{g(n).onArrowChange(o)},style:kt({position:"absolute",left:g(n).arrowX?.value?`${g(n).arrowX?.value}px`:void 0,top:g(n).arrowY?.value?`${g(n).arrowY?.value}px`:void 0,[r.value]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[g(n).placedSide.value],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[g(n).placedSide.value],visibility:g(n).shouldHideArrow.value?"hidden":void 0})},[T(Ws,ae(s.$attrs,{ref:g(e),style:{display:"block"},as:s.as,"as-child":s.asChild,rounded:s.rounded,width:s.width,height:s.height}),{default:A(()=>[N(s.$slots,"default")]),_:3},16,["as","as-child","rounded","width","height"])],4))}}),to=eo,no=L({__name:"TooltipArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(t){const e=t;return te(),(n,r)=>(C(),q(g(to),Je(et(e)),{default:A(()=>[N(n.$slots,"default")]),_:3},16))}}),so=no;const[Dt,ro]=tt("TooltipProvider");var oo=L({inheritAttrs:!1,__name:"TooltipProvider",props:{delayDuration:{type:Number,required:!1,default:700},skipDelayDuration:{type:Number,required:!1,default:300},disableHoverableContent:{type:Boolean,required:!1,default:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{delayDuration:n,skipDelayDuration:r,disableHoverableContent:s,disableClosingTrigger:i,ignoreNonKeyboardFocus:o,disabled:l}=Xn(e);te();const a=R(!0),u=R(!1),{start:c,stop:d}=fn(()=>{a.value=!0},r,{immediate:!1});return ro({isOpenDelayed:a,delayDuration:n,onOpen(){d(),a.value=!1},onClose(){c()},isPointerInTransitRef:u,disableHoverableContent:s,disableClosingTrigger:i,disabled:l,ignoreNonKeyboardFocus:o}),(f,h)=>N(f.$slots,"default")}}),io=oo;const An="tooltip.open",[it,ao]=tt("TooltipRoot");var lo=L({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},delayDuration:{type:Number,required:!1,default:void 0},disableHoverableContent:{type:Boolean,required:!1,default:void 0},disableClosingTrigger:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=e;te();const s=Dt(),i=P(()=>n.disableHoverableContent??s.disableHoverableContent.value),o=P(()=>n.disableClosingTrigger??s.disableClosingTrigger.value),l=P(()=>n.disabled??s.disabled.value),a=P(()=>n.delayDuration??s.delayDuration.value),u=P(()=>n.ignoreNonKeyboardFocus??s.ignoreNonKeyboardFocus.value),c=ns(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0});Ee(c,$=>{s.onClose&&($?(s.onOpen(),document.dispatchEvent(new CustomEvent(An))):s.onClose())});const d=R(!1),f=R(),h=P(()=>c.value?d.value?"delayed-open":"instant-open":"closed"),{start:p,stop:m}=fn(()=>{d.value=!0,c.value=!0},a,{immediate:!1});function x(){m(),d.value=!1,c.value=!0}function k(){m(),c.value=!1}function _(){p()}return ao({contentId:"",open:c,stateAttribute:h,trigger:f,onTriggerChange($){f.value=$},onTriggerEnter(){s.isOpenDelayed.value?_():x()},onTriggerLeave(){i.value?k():m()},onOpen:x,onClose:k,disableHoverableContent:i,disableClosingTrigger:o,disabled:l,ignoreNonKeyboardFocus:u}),($,y)=>(C(),q(g(Ls),null,{default:A(()=>[N($.$slots,"default",{open:g(c)})]),_:3}))}}),co=lo,uo=L({__name:"TooltipContentImpl",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1,default:0},align:{type:null,required:!1,default:"center"},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},arrowPadding:{type:Number,required:!1,default:0},sticky:{type:String,required:!1,default:"partial"},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,r=e,s=it(),{forwardRef:i}=te(),o=Un(),l=P(()=>o.default?.({})),a=P(()=>{if(n.ariaLabel)return n.ariaLabel;let c="";function d(f){typeof f.children=="string"&&f.type!==Zn?c+=f.children:Array.isArray(f.children)&&f.children.forEach(h=>d(h))}return l.value?.forEach(f=>d(f)),c}),u=P(()=>{const{ariaLabel:c,...d}=n;return d});return Ie(()=>{Ht(window,"scroll",c=>{c.target?.contains(s.trigger.value)&&s.onClose()}),Ht(window,An,s.onClose)}),(c,d)=>(C(),q(g(fs),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:d[0]||(d[0]=f=>r("escapeKeyDown",f)),onPointerDownOutside:d[1]||(d[1]=f=>{g(s).disableClosingTrigger.value&&g(s).trigger.value?.contains(f.target)&&f.preventDefault(),r("pointerDownOutside",f)}),onFocusOutside:d[2]||(d[2]=Xe(()=>{},["prevent"])),onDismiss:d[3]||(d[3]=f=>g(s).onClose())},{default:A(()=>[T(g(Yr),ae({ref:g(i),"data-state":g(s).stateAttribute.value},{...c.$attrs,...u.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:A(()=>[N(c.$slots,"default"),T(g(zs),{id:g(s).contentId,role:"tooltip"},{default:A(()=>[se(E(a.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),Rn=uo,po=L({__name:"TooltipContentHoverable",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},setup(t){const n=ds(t),{forwardRef:r,currentElement:s}=te(),{trigger:i,onClose:o}=it(),l=Dt(),{isPointerInTransit:a,onPointerExit:u}=Ss(i,s);return l.isPointerInTransitRef=a,u(()=>{o()}),(c,d)=>(C(),q(Rn,ae({ref:g(r)},g(n)),{default:A(()=>[N(c.$slots,"default")]),_:3},16))}}),fo=po,ho=L({__name:"TooltipContent",props:{forceMount:{type:Boolean,required:!1},ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,r=e,s=it(),i=Ct(n,r),{forwardRef:o}=te();return(l,a)=>(C(),q(g(ss),{present:l.forceMount||g(s).open.value},{default:A(()=>[(C(),q(_t(g(s).disableHoverableContent.value?Rn:fo),ae({ref:g(o)},g(i)),{default:A(()=>[N(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),go=ho,mo=L({__name:"TooltipPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>(C(),q(g(hs),Je(et(e)),{default:A(()=>[N(n.$slots,"default")]),_:3},16))}}),xo=mo,vo=L({__name:"TooltipTrigger",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,n=it(),r=Dt();n.contentId||=ps(void 0,"reka-tooltip-content");const{forwardRef:s,currentElement:i}=te(),o=R(!1),l=R(!1),a=P(()=>n.disabled.value?{}:{click:m,focus:h,pointermove:d,pointerleave:f,pointerdown:c,blur:p});Ie(()=>{n.onTriggerChange(i.value)});function u(){setTimeout(()=>{o.value=!1},1)}function c(){n.open&&!n.disableClosingTrigger.value&&n.onClose(),o.value=!0,document.addEventListener("pointerup",u,{once:!0})}function d(x){x.pointerType!=="touch"&&!l.value&&!r.isPointerInTransitRef.value&&(n.onTriggerEnter(),l.value=!0)}function f(){n.onTriggerLeave(),l.value=!1}function h(x){o.value||n.ignoreNonKeyboardFocus.value&&!x.target.matches?.(":focus-visible")||n.onOpen()}function p(){n.onClose()}function m(){n.disableClosingTrigger.value||n.onClose()}return(x,k)=>(C(),q(g(Is),{"as-child":"",reference:x.reference},{default:A(()=>[T(g(Ne),ae({ref:g(s),"aria-describedby":g(n).open.value?g(n).contentId:void 0,"data-state":g(n).stateAttribute.value,as:x.as,"as-child":e.asChild,"data-grace-area-trigger":""},Gn(a.value)),{default:A(()=>[N(x.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),yo=vo;const ge=rs.create({baseURL:"/api",headers:{"Content-Type":"application/json"}}),rn={sendMessage:async t=>(await ge.post("/chat/message",t)).data,clearConversation:async t=>{await ge.delete(`/chat/conversation/${t}`)},healthCheck:async()=>(await ge.get("/chat/health")).data},je={uploadDocument:async(t,e,n)=>{const r=new FormData;return r.append("file",t),r.append("conversationId",e),(await ge.post("/documents/upload",r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:i=>{if(i.total&&n){const o=Math.round(i.loaded*100/i.total);n(o)}}})).data},getDocumentStatus:async t=>(await ge.get(`/documents/${t}/status`)).data,getDocument:async t=>(await ge.get(`/documents/${t}`)).data,getDocumentsByConversation:async t=>(await ge.get(`/documents/conversation/${t}`)).data,deleteDocument:async t=>{await ge.delete(`/documents/${t}`)}},wo=L({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const s=Ct(t,e);return(i,o)=>(C(),q(g(co),ae({"data-slot":"tooltip"},g(s)),{default:A(l=>[N(i.$slots,"default",Je(et(l)))]),_:3},16))}}),bo=L({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,r=e,s=os(n,"class"),i=Ct(s,r);return(o,l)=>(C(),q(g(xo),null,{default:A(()=>[T(g(go),ae({"data-slot":"tooltip-content"},{...g(i),...o.$attrs},{class:g(is)("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit rounded-md px-3 py-1.5 text-xs text-balance",n.class)}),{default:A(()=>[N(o.$slots,"default"),T(g(so),{class:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]),_:3},16,["class"])]),_:3}))}}),ko=L({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(t){const e=t;return(n,r)=>(C(),q(g(io),Je(et(e)),{default:A(()=>[N(n.$slots,"default")]),_:3},16))}}),_o=L({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,r)=>(C(),q(g(yo),ae({"data-slot":"tooltip-trigger"},e),{default:A(()=>[N(n.$slots,"default")]),_:3},16))}}),Co={class:"space-y-1"},So={class:"font-medium text-sm truncate"},$o={class:"text-xs text-muted-foreground"},To=L({__name:"CitationBadge",props:{citation:{},index:{}},emits:["click"],setup(t,{emit:e}){const n=t,r=e;function s(){r("click",n.citation)}return(i,o)=>(C(),q(g(ko),null,{default:A(()=>[T(g(wo),null,{default:A(()=>[T(g(_o),{asChild:""},{default:A(()=>[w("button",{onClick:s,class:de(["inline-flex items-center justify-center","min-w-5 h-5 px-1.5 mx-0.5","text-[10px] font-semibold text-white","rounded-full bg-linear-to-r from-blue-500 to-blue-600 shadow-sm","hover:scale-110 hover:shadow-md","transition-all duration-200 ease-out","cursor-pointer select-none"])},E(t.citation.index),1)]),_:1}),T(g(bo),{side:"top",sideOffset:5,class:"max-w-xs"},{default:A(()=>[w("div",Co,[w("div",So,E(t.citation.documentName),1),w("div",$o," Source ["+E(t.citation.index)+"] - Chunk #"+E(t.citation.chunkOrder+1),1)])]),_:1})]),_:1})]),_:1}))}}),Ao={class:"flex items-center gap-1.5"},Ro={class:"mt-2 space-y-2"},Po=["onClick"],Oo={class:"shrink-0 w-6 h-6 rounded bg-primary/10 flex items-center justify-center"},Do={class:"flex-1 min-w-0"},Bo={class:"text-sm font-medium truncate"},zo={class:"text-xs text-muted-foreground"},Eo={key:0,class:"border-t bg-background/50"},qo={class:"flex items-center gap-2 mb-2"},Lo={class:"text-xs font-medium text-muted-foreground"},Mo={key:0,class:"text-muted-foreground text-xs leading-relaxed whitespace-pre-wrap"},Io={key:1,class:"text-muted-foreground/60 text-xs italic"},No=L({__name:"CitationPanel",props:{citations:{},expanded:{type:Boolean,default:!1}},setup(t){const e=t,n=R(e.expanded),r=R(new Set),s=P(()=>{const o=new Map;for(const l of e.citations){const a=l.documentId;o.has(a)||o.set(a,[]),o.get(a).push(l)}for(const l of o.values())l.sort((a,u)=>a.chunkOrder-u.chunkOrder);return Array.from(o.entries()).map(([l,a])=>({documentId:l,documentName:a[0]?.documentName??"Unknown Document",chunks:a}))});function i(o){r.value.has(o)?r.value.delete(o):r.value.add(o)}return(o,l)=>(C(),q(g(gs),{open:n.value,"onUpdate:open":l[0]||(l[0]=a=>n.value=a),class:"mt-3"},{default:A(()=>[T(g(ms),{asChild:""},{default:A(()=>[T(g(Se),{variant:"ghost",size:"sm",class:"w-full justify-between h-8 px-3 text-xs font-medium text-muted-foreground hover:text-foreground"},{default:A(()=>[w("span",Ao,[T(g(as),{class:"w-3.5 h-3.5"}),se(" "+E(t.citations.length)+" source"+E(t.citations.length!==1?"s":"")+" cited ",1)]),n.value?(C(),q(g(ys),{key:1,class:"w-4 h-4 transition-transform"})):(C(),q(g(Xt),{key:0,class:"w-4 h-4 transition-transform"}))]),_:1})]),_:1}),T(g(xs),null,{default:A(()=>[w("div",Ro,[(C(!0),O(Ae,null,Te(s.value,a=>(C(),O("div",{key:a.documentId,class:"rounded-lg border bg-muted/30 overflow-hidden"},[w("button",{onClick:u=>i(a.documentId),class:"w-full flex items-center gap-2 p-2.5 hover:bg-muted/50 transition-colors text-left"},[w("div",Oo,[T(g(ve),{class:"w-3.5 h-3.5 text-primary"})]),w("div",Do,[w("div",Bo,E(a.documentName),1),w("div",zo,E(a.chunks.length)+" relevant chunk"+E(a.chunks.length!==1?"s":""),1)]),T(g(Xt),{class:de(["w-4 h-4 text-muted-foreground transition-transform",r.value.has(a.documentId)&&"rotate-180"])},null,8,["class"])],8,Po),r.value.has(a.documentId)?(C(),O("div",Eo,[(C(!0),O(Ae,null,Te(a.chunks,(u,c)=>(C(),O("div",{key:`${u.documentId}-${u.chunkOrder}`,class:de(["p-3 text-sm",c!==a.chunks.length-1&&"border-b"])},[w("div",qo,[w("span",Lo," Source ["+E(u.index)+"] - Chunk #"+E(u.chunkOrder+1),1)]),u.content?(C(),O("p",Mo,E(u.content),1)):(C(),O("p",Io," From: "+E(u.documentName),1))],2))),128))])):G("",!0)]))),128))])]),_:1})]),_:1},8,["open"]))}}),Fo={class:"document-upload"},Ho={key:0,class:"upload-prompt"},Wo={class:"title"},Vo={key:1,class:"file-preview"},jo={class:"file-info"},Xo={class:"filename"},Uo={class:"filesize"},Zo={key:2,class:"upload-progress"},Go={class:"progress-bar"},Ko={class:"progress-text"},Qo={key:0,class:"error-message"},Yo=50*1024*1024,Jo=L({__name:"DocumentUpload",props:{conversationId:{}},emits:["uploaded","upload-complete","error"],setup(t,{emit:e}){const n=t,r=e,s=R(!1),i=R(!1),o=R(0),l=R(null),a=R(null),u=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","text/markdown"],c=P(()=>l.value?ve:ve),d=y=>y<1024?y+" B":y<1024*1024?(y/1024).toFixed(1)+" KB":(y/(1024*1024)).toFixed(1)+" MB",f=y=>u.includes(y.type)?y.size>Yo?"File too large. Maximum size is 50MB.":null:"Unsupported file type. Please upload PDF, DOCX, TXT, or MD files.",h=y=>{y.preventDefault(),s.value=!0},p=()=>{s.value=!1},m=y=>{y.preventDefault(),s.value=!1;const v=y.dataTransfer?.files;if(v&&v.length>0){const S=v[0];S&&k(S)}},x=y=>{const v=y.target;if(v.files&&v.files.length>0){const S=v.files[0];S&&k(S)}},k=y=>{a.value=null;const v=f(y);if(v){a.value=v,r("error",v);return}l.value=y},_=()=>{l.value=null,a.value=null,o.value=0},$=async()=>{if(l.value){i.value=!0,a.value=null,o.value=0;try{const y=await je.uploadDocument(l.value,n.conversationId,v=>{o.value=v});r("uploaded",y),r("upload-complete"),_()}catch(y){const v=y.response?.data?.error||y.message||"Upload failed";a.value=v,r("error",v)}finally{i.value=!1}}};return(y,v)=>(C(),O("div",Fo,[w("div",{class:de(["drop-zone",{"drag-over":s.value,"has-file":l.value,uploading:i.value}]),onDragover:h,onDragleave:p,onDrop:m},[w("input",{type:"file",ref:"fileInput",accept:".pdf,.docx,.txt,.md",onChange:x,hidden:""},null,544),!l.value&&!i.value?(C(),O("div",Ho,[T(g(Wt),{class:"icon",size:32}),w("p",Wo,[v[1]||(v[1]=se("Drop files here or ",-1)),w("button",{onClick:v[0]||(v[0]=S=>y.$refs.fileInput.click())},"browse")]),v[2]||(v[2]=w("span",{class:"hint"},"PDF, DOCX, TXT, MD up to 50MB",-1))])):l.value&&!i.value?(C(),O("div",Vo,[(C(),q(_t(c.value),{class:"file-icon",size:24})),w("div",jo,[w("span",Xo,E(l.value.name),1),w("span",Uo,E(d(l.value.size)),1)]),w("button",{class:"remove-btn",onClick:Xe(_,["stop"])},[T(g(hn),{size:16})])])):i.value?(C(),O("div",Zo,[w("div",Go,[w("div",{class:"progress-fill",style:kt({width:o.value+"%"})},null,4)]),w("span",Ko,"Uploading... "+E(o.value)+"%",1)])):G("",!0)],34),a.value?(C(),O("div",Qo,[T(g(ks),{size:16}),w("span",null,E(a.value),1)])):G("",!0),l.value&&!i.value?(C(),O("button",{key:1,class:"upload-btn",onClick:$},[T(g(Wt),{size:16}),v[3]||(v[3]=se(" Upload Document ",-1))])):G("",!0)]))}}),ei=gn(Jo,[["__scopeId","data-v-87616d6e"]]),ti={class:"document-list"},ni={key:0,class:"loading"},si={key:1,class:"empty"},ri={key:2,class:"documents"},oi={class:"doc-icon"},ii={class:"doc-info"},ai=["title"],li={class:"doc-meta"},ci={key:0},ui={class:"status-text"},di=["onClick"],pi=L({__name:"DocumentList",props:{conversationId:{}},setup(t,{expose:e}){const n=t,r=R([]),s=R(!1),i=R(new Map),o=p=>p<1024?p+" B":p<1024*1024?(p/1024).toFixed(1)+" KB":(p/(1024*1024)).toFixed(1)+" MB",l=p=>{switch(p){case"COMPLETED":return ws;case"FAILED":return bs;case"PROCESSING":return ft;default:return vs}},a=p=>{switch(p){case"COMPLETED":return"text-green-500";case"FAILED":return"text-red-500";case"PROCESSING":return"text-yellow-500";default:return"text-gray-500"}},u=async()=>{if(n.conversationId){s.value=!0;try{r.value=await je.getDocumentsByConversation(n.conversationId),r.value.forEach(p=>{(p.status==="PENDING"||p.status==="PROCESSING")&&c(p.id)})}catch(p){console.error("Failed to load documents:",p)}finally{s.value=!1}}},c=p=>{if(i.value.has(p))return;const m=window.setInterval(async()=>{try{const x=await je.getDocumentStatus(p),k=r.value.findIndex(_=>_.id===p);if(k!==-1&&r.value[k]){const _=r.value[k];r.value[k]={id:_.id,filename:_.filename,contentType:_.contentType,fileSizeBytes:_.fileSizeBytes,createdAt:_.createdAt,status:x.status,chunkCount:x.chunkCount,errorMessage:x.errorMessage},(x.status==="COMPLETED"||x.status==="FAILED")&&d(p)}}catch(x){console.error("Polling failed:",x),d(p)}},2e3);i.value.set(p,m)},d=p=>{const m=i.value.get(p);m&&(clearInterval(m),i.value.delete(p))},f=async p=>{try{await je.deleteDocument(p),r.value=r.value.filter(m=>m.id!==p),d(p)}catch(m){console.error("Failed to delete document:",m)}},h=p=>{r.value.unshift(p),(p.status==="PENDING"||p.status==="PROCESSING")&&c(p.id)};return Ee(()=>n.conversationId,()=>{i.value.forEach((p,m)=>d(m)),u()}),Ie(()=>{u()}),Kn(()=>{i.value.forEach((p,m)=>d(m))}),e({addDocument:h,loadDocuments:u}),(p,m)=>(C(),O("div",ti,[s.value?(C(),O("div",ni,[T(g(ft),{class:"animate-spin",size:20}),m[0]||(m[0]=w("span",null,"Loading documents...",-1))])):r.value.length===0?(C(),O("div",si,[T(g(ve),{size:32,class:"opacity-30"}),m[1]||(m[1]=w("p",null,"No documents uploaded yet",-1))])):(C(),O("div",ri,[(C(!0),O(Ae,null,Te(r.value,x=>(C(),O("div",{key:x.id,class:"document-item"},[w("div",oi,[T(g(ve),{size:20})]),w("div",ii,[w("span",{class:"doc-name",title:x.filename},E(x.filename),9,ai),w("div",li,[w("span",null,E(o(x.fileSizeBytes)),1),x.status==="COMPLETED"?(C(),O("span",ci," "+E(x.chunkCount)+" chunks",1)):G("",!0)])]),w("div",{class:de(["doc-status",a(x.status)])},[(C(),q(_t(l(x.status)),{size:16,class:de({"animate-spin":x.status==="PROCESSING"})},null,8,["class"])),w("span",ui,E(x.status.toLowerCase()),1)],2),w("button",{class:"delete-btn",onClick:k=>f(x.id),title:"Delete document"},[T(g(mn),{size:16})],8,di)]))),128))]))]))}}),fi=gn(pi,[["__scopeId","data-v-f6a22af5"]]);function Bt(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var _e=Bt();function Pn(t){_e=t}var qe={exec:()=>null};function D(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(s,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(W.caret,"$1"),n=n.replace(s,o),r},getRegex:()=>new RegExp(n,e)};return r}var hi=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),W={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},gi=/^(?:[ \t]*(?:\n|$))+/,mi=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,xi=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,He=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,vi=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,zt=/(?:[*+-]|\d{1,9}[.)])/,On=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Dn=D(On).replace(/bull/g,zt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),yi=D(On).replace(/bull/g,zt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Et=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,wi=/^[^\n]+/,qt=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,bi=D(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",qt).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ki=D(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,zt).getRegex(),at="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Lt=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,_i=D("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Lt).replace("tag",at).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Bn=D(Et).replace("hr",He).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",at).getRegex(),Ci=D(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Bn).getRegex(),Mt={blockquote:Ci,code:mi,def:bi,fences:xi,heading:vi,hr:He,html:_i,lheading:Dn,list:ki,newline:gi,paragraph:Bn,table:qe,text:wi},on=D("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",He).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",at).getRegex(),Si={...Mt,lheading:yi,table:on,paragraph:D(Et).replace("hr",He).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",on).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",at).getRegex()},$i={...Mt,html:D(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Lt).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qe,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:D(Et).replace("hr",He).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Dn).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ti=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ai=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,zn=/^( {2,}|\\)\n(?!\s*$)/,Ri=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,lt=/[\p{P}\p{S}]/u,It=/[\s\p{P}\p{S}]/u,En=/[^\s\p{P}\p{S}]/u,Pi=D(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,It).getRegex(),qn=/(?!~)[\p{P}\p{S}]/u,Oi=/(?!~)[\s\p{P}\p{S}]/u,Di=/(?:[^\s\p{P}\p{S}]|~)/u,Bi=D(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",hi?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Ln=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,zi=D(Ln,"u").replace(/punct/g,lt).getRegex(),Ei=D(Ln,"u").replace(/punct/g,qn).getRegex(),Mn="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",qi=D(Mn,"gu").replace(/notPunctSpace/g,En).replace(/punctSpace/g,It).replace(/punct/g,lt).getRegex(),Li=D(Mn,"gu").replace(/notPunctSpace/g,Di).replace(/punctSpace/g,Oi).replace(/punct/g,qn).getRegex(),Mi=D("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,En).replace(/punctSpace/g,It).replace(/punct/g,lt).getRegex(),Ii=D(/\\(punct)/,"gu").replace(/punct/g,lt).getRegex(),Ni=D(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Fi=D(Lt).replace("(?:-->|$)","-->").getRegex(),Hi=D("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Fi).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ke=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Wi=D(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Ke).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),In=D(/^!?\[(label)\]\[(ref)\]/).replace("label",Ke).replace("ref",qt).getRegex(),Nn=D(/^!?\[(ref)\](?:\[\])?/).replace("ref",qt).getRegex(),Vi=D("reflink|nolink(?!\\()","g").replace("reflink",In).replace("nolink",Nn).getRegex(),an=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Nt={_backpedal:qe,anyPunctuation:Ii,autolink:Ni,blockSkip:Bi,br:zn,code:Ai,del:qe,emStrongLDelim:zi,emStrongRDelimAst:qi,emStrongRDelimUnd:Mi,escape:Ti,link:Wi,nolink:Nn,punctuation:Pi,reflink:In,reflinkSearch:Vi,tag:Hi,text:Ri,url:qe},ji={...Nt,link:D(/^!?\[(label)\]\((.*?)\)/).replace("label",Ke).getRegex(),reflink:D(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ke).getRegex()},yt={...Nt,emStrongRDelimAst:Li,emStrongLDelim:Ei,url:D(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",an).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:D(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",an).getRegex()},Xi={...yt,br:D(zn).replace("{2,}","*").getRegex(),text:D(yt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ve={normal:Mt,gfm:Si,pedantic:$i},De={normal:Nt,gfm:yt,breaks:Xi,pedantic:ji},Ui={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ln=t=>Ui[t];function ue(t,e){if(e){if(W.escapeTest.test(t))return t.replace(W.escapeReplace,ln)}else if(W.escapeTestNoEncode.test(t))return t.replace(W.escapeReplaceNoEncode,ln);return t}function cn(t){try{t=encodeURI(t).replace(W.percentDecode,"%")}catch{return null}return t}function un(t,e){let n=t.replace(W.findPipe,(i,o,l)=>{let a=!1,u=o;for(;--u>=0&&l[u]==="\\";)a=!a;return a?"|":" |"}),r=n.split(W.splitPipe),s=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(W.slashPipe,"|");return r}function Be(t,e,n){let r=t.length;if(r===0)return"";let s=0;for(;s<r&&t.charAt(r-s-1)===e;)s++;return t.slice(0,r-s)}function Zi(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function dn(t,e,n,r,s){let i=e.href,o=e.title||null,l=t[1].replace(s.other.outputLinkReplace,"$1");r.state.inLink=!0;let a={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:o,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,a}function Gi(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let s=r[1];return e.split(`
`).map(i=>{let o=i.match(n.other.beginningSpace);if(o===null)return i;let[l]=o;return l.length>=s.length?i.slice(s.length):i}).join(`
`)}var Qe=class{options;rules;lexer;constructor(t){this.options=t||_e}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Be(n,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],r=Gi(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let r=Be(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Be(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=Be(e[0],`
`).split(`
`),r="",s="",i=[];for(;n.length>0;){let o=!1,l=[],a;for(a=0;a<n.length;a++)if(this.rules.other.blockquoteStart.test(n[a]))l.push(n[a]),o=!0;else if(!o)l.push(n[a]);else break;n=n.slice(a);let u=l.join(`
`),c=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${u}`:u,s=s?`${s}
${c}`:c;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,i,!0),this.lexer.state.top=d,n.length===0)break;let f=i.at(-1);if(f?.type==="code")break;if(f?.type==="blockquote"){let h=f,p=h.raw+`
`+n.join(`
`),m=this.blockquote(p);i[i.length-1]=m,r=r.substring(0,r.length-h.raw.length)+m.raw,s=s.substring(0,s.length-h.text.length)+m.text;break}else if(f?.type==="list"){let h=f,p=h.raw+`
`+n.join(`
`),m=this.list(p);i[i.length-1]=m,r=r.substring(0,r.length-f.raw.length)+m.raw,s=s.substring(0,s.length-h.raw.length)+m.raw,n=p.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:i,text:s}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim(),r=n.length>1,s={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let i=this.rules.other.listItemRegex(n),o=!1;for(;t;){let a=!1,u="",c="";if(!(e=i.exec(t))||this.rules.block.hr.test(t))break;u=e[0],t=t.substring(u.length);let d=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,m=>" ".repeat(3*m.length)),f=t.split(`
`,1)[0],h=!d.trim(),p=0;if(this.options.pedantic?(p=2,c=d.trimStart()):h?p=e[1].length+1:(p=e[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,c=d.slice(p),p+=e[1].length),h&&this.rules.other.blankLine.test(f)&&(u+=f+`
`,t=t.substring(f.length+1),a=!0),!a){let m=this.rules.other.nextBulletRegex(p),x=this.rules.other.hrRegex(p),k=this.rules.other.fencesBeginRegex(p),_=this.rules.other.headingBeginRegex(p),$=this.rules.other.htmlBeginRegex(p);for(;t;){let y=t.split(`
`,1)[0],v;if(f=y,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),v=f):v=f.replace(this.rules.other.tabCharGlobal,"    "),k.test(f)||_.test(f)||$.test(f)||m.test(f)||x.test(f))break;if(v.search(this.rules.other.nonSpaceChar)>=p||!f.trim())c+=`
`+v.slice(p);else{if(h||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(d)||_.test(d)||x.test(d))break;c+=`
`+f}!h&&!f.trim()&&(h=!0),u+=y+`
`,t=t.substring(y.length+1),d=v.slice(p)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(o=!0)),s.items.push({type:"list_item",raw:u,task:!!this.options.gfm&&this.rules.other.listIsTask.test(c),loose:!1,text:c,tokens:[]}),s.raw+=u}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let a of s.items){if(this.lexer.state.top=!1,a.tokens=this.lexer.blockTokens(a.text,[]),a.task){if(a.text=a.text.replace(this.rules.other.listReplaceTask,""),a.tokens[0]?.type==="text"||a.tokens[0]?.type==="paragraph"){a.tokens[0].raw=a.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),a.tokens[0].text=a.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let c=this.lexer.inlineQueue.length-1;c>=0;c--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[c].src)){this.lexer.inlineQueue[c].src=this.lexer.inlineQueue[c].src.replace(this.rules.other.listReplaceTask,"");break}}let u=this.rules.other.listTaskCheckbox.exec(a.raw);if(u){let c={type:"checkbox",raw:u[0]+" ",checked:u[0]!=="[ ]"};a.checked=c.checked,s.loose?a.tokens[0]&&["paragraph","text"].includes(a.tokens[0].type)&&"tokens"in a.tokens[0]&&a.tokens[0].tokens?(a.tokens[0].raw=c.raw+a.tokens[0].raw,a.tokens[0].text=c.raw+a.tokens[0].text,a.tokens[0].tokens.unshift(c)):a.tokens.unshift({type:"paragraph",raw:c.raw,text:c.raw,tokens:[c]}):a.tokens.unshift(c)}}if(!s.loose){let u=a.tokens.filter(d=>d.type==="space"),c=u.length>0&&u.some(d=>this.rules.other.anyLine.test(d.raw));s.loose=c}}if(s.loose)for(let a of s.items){a.loose=!0;for(let u of a.tokens)u.type==="text"&&(u.type="paragraph")}return s}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:s}}}table(t){let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=un(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let o of r)this.rules.other.tableAlignRight.test(o)?i.align.push("right"):this.rules.other.tableAlignCenter.test(o)?i.align.push("center"):this.rules.other.tableAlignLeft.test(o)?i.align.push("left"):i.align.push(null);for(let o=0;o<n.length;o++)i.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:i.align[o]});for(let o of s)i.rows.push(un(o,i.header.length).map((l,a)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:i.align[a]})));return i}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let i=Be(n.slice(0,-1),"\\");if((n.length-i.length)%2===0)return}else{let i=Zi(e[2],"()");if(i===-2)return;if(i>-1){let o=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let r=e[2],s="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],s=i[3])}else s=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),dn(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=e[r.toLowerCase()];if(!s){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return dn(n,s,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...r[0]].length-1,i,o,l=s,a=0,u=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,e=e.slice(-1*t.length+s);(r=u.exec(e))!=null;){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=[...i].length,r[3]||r[4]){l+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){a+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+a);let c=[...r[0]][0].length,d=t.slice(0,s+r.index+c+o);if(Math.min(s,o)%2){let h=d.slice(1,-1);return{type:"em",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}let f=d.slice(2,-2);return{type:"strong",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let n,r;if(e[2]==="@")n=e[0],r="mailto:"+n;else{let s;do s=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(s!==e[0]);n=e[0],e[1]==="www."?r="http://"+e[0]:r=e[0]}return{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},Q=class wt{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||_e,this.options.tokenizer=this.options.tokenizer||new Qe,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:W,block:Ve.normal,inline:De.normal};this.options.pedantic?(n.block=Ve.pedantic,n.inline=De.pedantic):this.options.gfm&&(n.block=Ve.gfm,this.options.breaks?n.inline=De.breaks:n.inline=De.gfm),this.tokenizer.rules=n}static get rules(){return{block:Ve,inline:De}}static lex(e,n){return new wt(n).lex(e)}static lexInline(e,n){return new wt(n).inlineTokens(e)}lex(e){e=e.replace(W.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(W.tabCharGlobal,"    ").replace(W.spaceLine,""));e;){let s;if(this.options.extensions?.block?.some(o=>(s=o.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);let o=n.at(-1);s.raw.length===1&&o!==void 0?o.raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.text,this.inlineQueue.at(-1).src=o.text):n.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title},n.push(s));continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),n.push(s);continue}let i=e;if(this.options.extensions?.startBlock){let o=1/0,l=e.slice(1),a;this.options.extensions.startBlock.forEach(u=>{a=u.call({lexer:this},l),typeof a=="number"&&a>=0&&(o=Math.min(o,a))}),o<1/0&&o>=0&&(i=e.substring(0,o+1))}if(this.state.top&&(s=this.tokenizer.paragraph(i))){let o=n.at(-1);r&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(s),r=i.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);let o=n.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(s);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,s=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)a.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)i=s[2]?s[2].length:0,r=r.slice(0,s.index+i)+"["+"a".repeat(s[0].length-i-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let o=!1,l="";for(;e;){o||(l=""),o=!1;let a;if(this.options.extensions?.inline?.some(c=>(a=c.call({lexer:this},e,n))?(e=e.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);let c=n.at(-1);a.type==="text"&&c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(a=this.tokenizer.emStrong(e,r,l)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),n.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),n.push(a);continue}let u=e;if(this.options.extensions?.startInline){let c=1/0,d=e.slice(1),f;this.options.extensions.startInline.forEach(h=>{f=h.call({lexer:this},d),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(u=e.substring(0,c+1))}if(a=this.tokenizer.inlineText(u)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(l=a.raw.slice(-1)),o=!0;let c=n.at(-1);c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}},Ye=class{options;parser;constructor(t){this.options=t||_e}space(t){return""}code({text:t,lang:e,escaped:n}){let r=(e||"").match(W.notSpaceStart)?.[0],s=t.replace(W.endingNewline,"")+`
`;return r?'<pre><code class="language-'+ue(r)+'">'+(n?s:ue(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:ue(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,r="";for(let o=0;o<t.items.length;o++){let l=t.items[o];r+=this.listitem(l)}let s=e?"ol":"ul",i=e&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+r+"</"+s+`>
`}listitem(t){return`<li>${this.parser.parse(t.tokens)}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);e+=this.tablerow({text:n});let r="";for(let s=0;s<t.rows.length;s++){let i=t.rows[s];n="";for(let o=0;o<i.length;o++)n+=this.tablecell(i[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${ue(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),s=cn(t);if(s===null)return r;t=s;let i='<a href="'+t+'"';return e&&(i+=' title="'+ue(e)+'"'),i+=">"+r+"</a>",i}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let s=cn(t);if(s===null)return ue(n);t=s;let i=`<img src="${t}" alt="${n}"`;return e&&(i+=` title="${ue(e)}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:ue(t.text)}},Ft=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}checkbox({raw:t}){return t}},Y=class bt{options;renderer;textRenderer;constructor(e){this.options=e||_e,this.options.renderer=this.options.renderer||new Ye,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ft}static parse(e,n){return new bt(n).parse(e)}static parseInline(e,n){return new bt(n).parseInline(e)}parse(e){let n="";for(let r=0;r<e.length;r++){let s=e[r];if(this.options.extensions?.renderers?.[s.type]){let o=s,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){n+=l||"";continue}}let i=s;switch(i.type){case"space":{n+=this.renderer.space(i);break}case"hr":{n+=this.renderer.hr(i);break}case"heading":{n+=this.renderer.heading(i);break}case"code":{n+=this.renderer.code(i);break}case"table":{n+=this.renderer.table(i);break}case"blockquote":{n+=this.renderer.blockquote(i);break}case"list":{n+=this.renderer.list(i);break}case"checkbox":{n+=this.renderer.checkbox(i);break}case"html":{n+=this.renderer.html(i);break}case"def":{n+=this.renderer.def(i);break}case"paragraph":{n+=this.renderer.paragraph(i);break}case"text":{n+=this.renderer.text(i);break}default:{let o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(e,n=this.renderer){let r="";for(let s=0;s<e.length;s++){let i=e[s];if(this.options.extensions?.renderers?.[i.type]){let l=this.options.extensions.renderers[i.type].call({parser:this},i);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=l||"";continue}}let o=i;switch(o.type){case"escape":{r+=n.text(o);break}case"html":{r+=n.html(o);break}case"link":{r+=n.link(o);break}case"image":{r+=n.image(o);break}case"checkbox":{r+=n.checkbox(o);break}case"strong":{r+=n.strong(o);break}case"em":{r+=n.em(o);break}case"codespan":{r+=n.codespan(o);break}case"br":{r+=n.br(o);break}case"del":{r+=n.del(o);break}case"text":{r+=n.text(o);break}default:{let l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}},ze=class{options;block;constructor(t){this.options=t||_e}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?Q.lex:Q.lexInline}provideParser(){return this.block?Y.parse:Y.parseInline}},Ki=class{defaults=Bt();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Y;Renderer=Ye;TextRenderer=Ft;Lexer=Q;Tokenizer=Qe;Hooks=ze;constructor(...t){this.use(...t)}walkTokens(t,e){let n=[];for(let r of t)switch(n=n.concat(e.call(this,r)),r.type){case"table":{let s=r;for(let i of s.header)n=n.concat(this.walkTokens(i.tokens,e));for(let i of s.rows)for(let o of i)n=n.concat(this.walkTokens(o.tokens,e));break}case"list":{let s=r;n=n.concat(this.walkTokens(s.items,e));break}default:{let s=r;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(i=>{let o=s[i].flat(1/0);n=n.concat(this.walkTokens(o,e))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let i=e.renderers[s.name];i?e.renderers[s.name]=function(...o){let l=s.renderer.apply(this,o);return l===!1&&(l=i.apply(this,o)),l}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=e[s.level];i?i.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),n.renderer){let s=this.defaults.renderer||new Ye(this.defaults);for(let i in n.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let o=i,l=n.renderer[o],a=s[o];s[o]=(...u)=>{let c=l.apply(s,u);return c===!1&&(c=a.apply(s,u)),c||""}}r.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new Qe(this.defaults);for(let i in n.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let o=i,l=n.tokenizer[o],a=s[o];s[o]=(...u)=>{let c=l.apply(s,u);return c===!1&&(c=a.apply(s,u)),c}}r.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new ze;for(let i in n.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let o=i,l=n.hooks[o],a=s[o];ze.passThroughHooks.has(i)?s[o]=u=>{if(this.defaults.async&&ze.passThroughHooksRespectAsync.has(i))return(async()=>{let d=await l.call(s,u);return a.call(s,d)})();let c=l.call(s,u);return a.call(s,c)}:s[o]=(...u)=>{if(this.defaults.async)return(async()=>{let d=await l.apply(s,u);return d===!1&&(d=await a.apply(s,u)),d})();let c=l.apply(s,u);return c===!1&&(c=a.apply(s,u)),c}}r.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(o){let l=[];return l.push(i.call(this,o)),s&&(l=l.concat(s.call(this,o))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Q.lex(t,e??this.defaults)}parser(t,e){return Y.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let r={...n},s={...this.defaults,...r},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=t),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(e):e,l=await(s.hooks?await s.hooks.provideLexer():t?Q.lex:Q.lexInline)(o,s),a=s.hooks?await s.hooks.processAllTokens(l):l;s.walkTokens&&await Promise.all(this.walkTokens(a,s.walkTokens));let u=await(s.hooks?await s.hooks.provideParser():t?Y.parse:Y.parseInline)(a,s);return s.hooks?await s.hooks.postprocess(u):u})().catch(i);try{s.hooks&&(e=s.hooks.preprocess(e));let o=(s.hooks?s.hooks.provideLexer():t?Q.lex:Q.lexInline)(e,s);s.hooks&&(o=s.hooks.processAllTokens(o)),s.walkTokens&&this.walkTokens(o,s.walkTokens);let l=(s.hooks?s.hooks.provideParser():t?Y.parse:Y.parseInline)(o,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(o){return i(o)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+ue(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},we=new Ki;function B(t,e){return we.parse(t,e)}B.options=B.setOptions=function(t){return we.setOptions(t),B.defaults=we.defaults,Pn(B.defaults),B};B.getDefaults=Bt;B.defaults=_e;B.use=function(...t){return we.use(...t),B.defaults=we.defaults,Pn(B.defaults),B};B.walkTokens=function(t,e){return we.walkTokens(t,e)};B.parseInline=we.parseInline;B.Parser=Y;B.parser=Y.parse;B.Renderer=Ye;B.TextRenderer=Ft;B.Lexer=Q;B.lexer=Q.lex;B.Tokenizer=Qe;B.Hooks=ze;B.parse=B;B.options;B.setOptions;B.use;B.walkTokens;B.parseInline;Y.parse;Q.lex;const Qi={class:"flex h-full overflow-hidden"},Yi={class:"w-64 border-r bg-white/70 backdrop-blur-md shrink-0 hidden lg:flex flex-col h-full overflow-hidden"},Ji={class:"p-4 border-b bg-white/50"},ea={class:"font-semibold text-sm flex items-center gap-2"},ta={class:"p-2 space-y-1"},na=["onClick"],sa={class:"truncate"},ra={key:0,class:"px-3 py-4 text-xs text-muted-foreground text-center"},oa={class:"p-2 border-t"},ia={class:"flex-1 flex flex-col min-w-0 h-full overflow-hidden bg-white/60 backdrop-blur-sm"},aa={class:"border-b bg-white/70 backdrop-blur-sm px-4 py-3 flex items-center shrink-0"},la={key:0,class:"flex items-center justify-center h-full"},ca={class:"space-y-4 max-w-4xl mx-auto"},ua=["innerHTML"],da={key:0,class:"inline-flex items-center gap-0.5 mt-1"},pa={class:"text-xs opacity-70 mt-1 block"},fa={key:0,class:"mr-auto max-w-[80%]"},ha={class:"border-t bg-white/70 backdrop-blur-sm p-4 shrink-0"},ga={class:"absolute right-0 top-0 h-full w-full max-w-md bg-card border-l shadow-xl overflow-y-auto"},ma={class:"p-4 border-b sticky top-0 bg-card z-10"},xa={class:"flex items-center justify-between"},va={class:"text-lg font-semibold flex items-center gap-2"},ya={class:"p-4 space-y-6"},Oa=L({__name:"ChatPage",setup(t){const e=R(""),n=R([]),r=R(""),s=R(!1),i=R(""),o=R(null),l=R(null),a=R([]),u=R(!1),c=R(null),d=()=>{n.value.length>0&&a.value.unshift({id:e.value,title:n.value[0]?.content.substring(0,30)+"..."||"New Chat",timestamp:Date.now()}),e.value=h(),n.value=[],i.value=""},f=v=>{e.value=v};Ie(()=>{e.value="default"});const h=()=>Date.now().toString(36)+Math.random().toString(36).substring(2),p=async()=>{await Qn(),o.value&&(o.value.scrollTop=o.value.scrollHeight)},m=async()=>{if(!r.value.trim()||s.value)return;const v={id:h(),content:r.value,sender:"user",timestamp:Date.now()};n.value.push(v);const S=r.value;r.value="",s.value=!0,i.value="",await p();try{const b=await rn.sendMessage({message:S,conversationId:e.value}),z={id:h(),content:b.content,sender:"assistant",timestamp:b.timestamp,citations:b.citations};n.value.push(z),await p()}catch(b){i.value="Failed to send message. Please try again.",console.error("Error sending message:",b)}finally{s.value=!1}},x=async()=>{try{await rn.clearConversation(e.value),n.value=[],e.value=h(),i.value=""}catch(v){i.value="Failed to clear conversation.",console.error("Error clearing conversation:",v)}},k=v=>new Date(v).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),_=v=>B(v,{breaks:!0,gfm:!0}),$=v=>{l.value=v},y=()=>{c.value?.loadDocuments()};return(v,S)=>(C(),q(ls,null,{default:A(()=>[w("div",Qi,[w("aside",Yi,[w("div",Ji,[w("h2",ea,[T(g(Vt),{class:"w-4 h-4"}),S[4]||(S[4]=se(" Chat History ",-1))])]),T(g(cs),{class:"flex-1"},{default:A(()=>[w("div",ta,[T(g(Se),{variant:"outline",size:"sm",class:"w-full justify-start gap-2",onClick:d},{default:A(()=>[T(g(_s),{class:"w-4 h-4"}),S[5]||(S[5]=se(" New Chat ",-1))]),_:1}),T(g(jt),{class:"my-2"}),(C(!0),O(Ae,null,Te(a.value,b=>(C(),O("button",{key:b.id,class:de(["w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-left transition-colors",e.value===b.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"]),onClick:z=>f(b.id)},[T(g(Vt),{class:"w-3 h-3 shrink-0"}),w("span",sa,E(b.title),1)],10,na))),128)),a.value.length===0?(C(),O("div",ra," No previous chats ")):G("",!0)])]),_:1}),w("div",oa,[T(g(Se),{variant:"ghost",size:"sm",class:"w-full justify-start gap-2",onClick:S[0]||(S[0]=b=>u.value=!0)},{default:A(()=>[T(g(ve),{class:"w-4 h-4"}),S[6]||(S[6]=se(" Knowledge Base ",-1))]),_:1})])]),w("div",ia,[w("header",aa,[S[8]||(S[8]=w("div",{class:"flex-1 text-center min-w-0"},[w("h1",{class:"text-xl font-bold bg-gradient-to-r from-[#3F5EFB] to-[#FC466B] bg-clip-text text-transparent"}," AI ChatBot "),w("p",{class:"text-xs text-muted-foreground"},"Powered by Groq")],-1)),T(g(Se),{variant:"outline",size:"sm",onClick:x,disabled:n.value.length===0},{default:A(()=>[T(g(mn),{class:"w-4 h-4 mr-2"}),S[7]||(S[7]=se(" Clear ",-1))]),_:1},8,["disabled"])]),w("div",{ref_key:"messagesContainer",ref:o,class:"flex-1 overflow-y-auto p-4 min-h-0"},[n.value.length===0?(C(),O("div",la,[...S[9]||(S[9]=[w("div",{class:"text-center space-y-2"},[w("h2",{class:"text-xl font-semibold text-muted-foreground"},"Start a conversation"),w("p",{class:"text-sm text-muted-foreground"},"Type a message below to begin"),w("p",{class:"text-xs text-muted-foreground/70 mt-4"},"  Tip: Upload documents via the Knowledge Base to enhance AI responses ")],-1)])])):G("",!0),w("div",ca,[(C(!0),O(Ae,null,Te(n.value,b=>(C(),O("div",{key:b.id,class:de(b.sender==="user"?"ml-auto max-w-[80%]":"mr-auto max-w-[80%]")},[T(g(ut),{class:de(b.sender==="user"?"bg-primary text-primary-foreground":"")},{default:A(()=>[T(g(ct),{class:"p-3"},{default:A(()=>[w("div",{class:"text-sm message-content prose prose-sm max-w-none dark:prose-invert",innerHTML:_(b.content)},null,8,ua),b.citations&&b.citations.length>0?(C(),O("div",da,[(C(!0),O(Ae,null,Te(b.citations,(z,I)=>(C(),q(To,{key:`${z.documentId}-${z.chunkOrder}`,citation:z,index:I,onClick:$},null,8,["citation","index"]))),128))])):G("",!0),b.citations&&b.citations.length>0?(C(),q(No,{key:1,citations:b.citations},null,8,["citations"])):G("",!0),w("span",pa,E(k(b.timestamp)),1)]),_:2},1024)]),_:2},1032,["class"])],2))),128)),s.value?(C(),O("div",fa,[T(g(ut),null,{default:A(()=>[T(g(ct),{class:"p-3"},{default:A(()=>[T(g(ft),{class:"w-4 h-4 animate-spin"})]),_:1})]),_:1})])):G("",!0),i.value?(C(),q(g(ut),{key:1,class:"border-destructive"},{default:A(()=>[T(g(ct),{class:"p-3 text-sm text-destructive"},{default:A(()=>[se(E(i.value),1)]),_:1})]),_:1})):G("",!0)])],512),w("footer",ha,[w("form",{onSubmit:Xe(m,["prevent"]),class:"flex gap-2 max-w-4xl mx-auto"},[T(g(us),{modelValue:r.value,"onUpdate:modelValue":S[1]||(S[1]=b=>r.value=b),placeholder:"Type your message...",disabled:s.value,class:"flex-1"},null,8,["modelValue","disabled"]),T(g(Se),{type:"submit",disabled:!r.value.trim()||s.value},{default:A(()=>[T(g(Cs),{class:"w-4 h-4"})]),_:1},8,["disabled"])],32)])]),u.value?(C(),O("div",{key:0,class:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",onClick:S[3]||(S[3]=Xe(b=>u.value=!1,["self"]))},[w("div",ga,[w("div",ma,[w("div",xa,[w("h2",va,[T(g(ve),{class:"w-5 h-5"}),S[10]||(S[10]=se(" Knowledge Base ",-1))]),T(g(Se),{variant:"ghost",size:"icon",onClick:S[2]||(S[2]=b=>u.value=!1)},{default:A(()=>[T(g(hn),{class:"w-4 h-4"})]),_:1})]),S[11]||(S[11]=w("p",{class:"text-sm text-muted-foreground mt-1"}," Upload documents to enhance AI responses with relevant context ",-1))]),w("div",ya,[T(ei,{"conversation-id":e.value,onUploadComplete:y},null,8,["conversation-id"]),T(g(jt)),T(fi,{ref_key:"documentListRef",ref:c,"conversation-id":e.value},null,8,["conversation-id"])])])])):G("",!0)])]),_:1}))}});export{Oa as default};
