import{c as V,_ as G,B as L,b as w,d as v,e as x}from"./index-C4Lle3dT.js";import{_ as C,a as S,b as T}from"./notes-DNIFI5MH.js";import{u as D,_ as F,a as i,D as K}from"./useStudyTool-C4f2ghP6.js";import{_ as O,a as A}from"./index-BT8pngVr.js";import{_ as E}from"./index-CIUuSPc7.js";import{L as j}from"./loader-circle-CZ9dHVUk.js";import{R as q}from"./refresh-cw-DhssU61R.js";import{C as I}from"./check-BDZp97iq.js";import{C as W}from"./copy-ByFJ8RsE.js";import{a as Y,r as z,h as u,j as a,o as l,k as o,l as s,u as e,p as n,b as m,m as H,i as J,F as y,t as _,q as Q}from"./index-BpwbO6jE.js";import"./index-DQzlIxro.js";import"./generation-Cfx5h2Yy.js";const X=V("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),Z={class:"min-h-full p-6"},ee={class:"max-w-4xl mx-auto space-y-6"},te={class:"flex items-center gap-3"},se={class:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center"},ae={class:"flex items-center gap-4"},oe={key:1,class:"p-4 rounded-lg bg-muted/50 text-sm text-muted-foreground"},le={class:"pt-4 space-y-2"},ne={class:"flex items-center justify-between"},re={class:"flex items-center gap-2"},ie={class:"flex items-center gap-2"},de={class:"prose prose-sm max-w-none dark:prose-invert"},ue={class:"text-base leading-relaxed"},me={class:"space-y-3"},ce={class:"flex items-center gap-2"},fe={class:"space-y-2"},pe={class:"flex-shrink-0 w-6 h-6 rounded-full bg-primary/10 text-primary text-sm font-medium flex items-center justify-center"},ye={class:"text-sm"},_e={class:"w-12 h-12 rounded-full bg-muted flex items-center justify-center mx-auto mb-4"},Ue=Y({__name:"SummaryPage",setup(ve){const{isLoading:k,isLoadingContent:U,error:$,result:r,selectedContent:h,notesContent:g,generate:N}=D("summary"),c=z(!0),b=z(!1),P=async()=>{const f=c.value?void 0:h.value;await N(f,{force:!0})},B=async()=>{if(!r.value)return;const f=`# Summary

${r.value.summary}

## Key Points

${r.value.keyPoints.map(t=>`- ${t}`).join(`
`)}`;await navigator.clipboard.writeText(f),b.value=!0,setTimeout(()=>{b.value=!1},2e3)},M=()=>{if(!r.value)return;const f=`# Summary

${r.value.summary}

## Key Points

${r.value.keyPoints.map(R=>`- ${R}`).join(`
`)}`,t=new Blob([f],{type:"text/markdown"}),d=URL.createObjectURL(t),p=document.createElement("a");p.href=d,p.download="study-summary.md",p.click(),URL.revokeObjectURL(d)};return(f,t)=>(l(),u(G,null,{default:a(()=>[o("div",Z,[o("div",ee,[o("div",te,[o("div",se,[s(e(L),{class:"w-6 h-6 text-white"})]),t[3]||(t[3]=o("div",null,[o("h1",{class:"text-2xl font-bold"},"Generate Summary"),o("p",{class:"text-muted-foreground"},"Create a concise summary with key points from your notes")],-1))]),s(e(x),null,{default:a(()=>[s(e(C),null,{default:a(()=>[s(e(S),{class:"text-lg"},{default:a(()=>[...t[4]||(t[4]=[n("Content to Summarize",-1)])]),_:1}),s(e(T),null,{default:a(()=>[...t[5]||(t[5]=[n(" Use all your uploaded notes or paste specific content below ",-1)])]),_:1})]),_:1}),s(e(w),{class:"space-y-4"},{default:a(()=>[o("div",ae,[s(e(v),{variant:c.value?"default":"outline",size:"sm",onClick:t[0]||(t[0]=d=>c.value=!0)},{default:a(()=>[...t[6]||(t[6]=[n(" Use All Notes ",-1)])]),_:1},8,["variant"]),s(e(v),{variant:c.value?"outline":"default",size:"sm",onClick:t[1]||(t[1]=d=>c.value=!1)},{default:a(()=>[...t[7]||(t[7]=[n(" Custom Content ",-1)])]),_:1},8,["variant"])]),c.value?(l(),m("div",oe,[e(U)?(l(),m(y,{key:0},[s(e(j),{class:"w-4 h-4 inline animate-spin mr-2"}),t[8]||(t[8]=n(" Loading document content... ",-1))],64)):e(g)&&e(g).trim()?(l(),m(y,{key:1},[n(" Will use content from "+_(e(g).split(`
`).length)+" lines of uploaded notes ",1)],64)):(l(),m(y,{key:2},[n(" No documents uploaded yet. Upload files on the Upload page or paste content below. ")],64))])):(l(),u(e(F),{key:0,modelValue:e(h),"onUpdate:modelValue":t[2]||(t[2]=d=>J(h)?h.value=d:null),placeholder:"Paste or type the content you want to summarize...",class:"min-h-[200px] resize-y"},null,8,["modelValue"])),e($)?(l(),u(e(O),{key:2,variant:"destructive"},{default:a(()=>[s(e(A),null,{default:a(()=>[n(_(e($)),1)]),_:1})]),_:1})):H("",!0),s(e(v),{disabled:e(k),onClick:P,class:"w-full sm:w-auto"},{default:a(()=>[e(k)?(l(),m(y,{key:0},[s(e(j),{class:"w-4 h-4 mr-2 animate-spin"}),t[9]||(t[9]=n(" Generating Summary... ",-1))],64)):(l(),m(y,{key:1},[s(e(q),{class:"w-4 h-4 mr-2"}),t[10]||(t[10]=n(" Generate Summary ",-1))],64))]),_:1},8,["disabled"])]),_:1})]),_:1}),e(k)?(l(),u(e(x),{key:0},{default:a(()=>[s(e(C),null,{default:a(()=>[s(e(i),{class:"h-6 w-32"})]),_:1}),s(e(w),{class:"space-y-4"},{default:a(()=>[s(e(i),{class:"h-4 w-full"}),s(e(i),{class:"h-4 w-full"}),s(e(i),{class:"h-4 w-3/4"}),s(e(i),{class:"h-4 w-5/6"}),o("div",le,[s(e(i),{class:"h-4 w-24"}),s(e(i),{class:"h-3 w-full"}),s(e(i),{class:"h-3 w-full"}),s(e(i),{class:"h-3 w-2/3"})])]),_:1})]),_:1})):e(r)?(l(),u(e(x),{key:1},{default:a(()=>[s(e(C),null,{default:a(()=>[o("div",ne,[o("div",re,[s(e(S),{class:"text-lg"},{default:a(()=>[...t[11]||(t[11]=[n("Summary",-1)])]),_:1}),s(e(E),{variant:"secondary"},{default:a(()=>[n(_(e(r).wordCount)+" words ",1)]),_:1})]),o("div",ie,[s(e(v),{variant:"ghost",size:"icon",onClick:B},{default:a(()=>[b.value?(l(),u(e(I),{key:0,class:"w-4 h-4 text-green-500"})):(l(),u(e(W),{key:1,class:"w-4 h-4"}))]),_:1}),s(e(v),{variant:"ghost",size:"icon",onClick:M},{default:a(()=>[s(e(K),{class:"w-4 h-4"})]),_:1})])])]),_:1}),s(e(w),{class:"space-y-6"},{default:a(()=>[o("div",de,[o("p",ue,_(e(r).summary),1)]),o("div",me,[o("div",ce,[s(e(X),{class:"w-4 h-4 text-primary"}),t[12]||(t[12]=o("h3",{class:"font-semibold"},"Key Points",-1))]),o("ul",fe,[(l(!0),m(y,null,Q(e(r).keyPoints,(d,p)=>(l(),m("li",{key:p,class:"flex items-start gap-3 p-3 rounded-lg bg-muted/50"},[o("span",pe,_(p+1),1),o("span",ye,_(d),1)]))),128))])])]),_:1})]),_:1})):(l(),u(e(x),{key:2,class:"border-dashed"},{default:a(()=>[s(e(w),{class:"p-12 text-center"},{default:a(()=>[o("div",_e,[s(e(L),{class:"w-6 h-6 text-muted-foreground"})]),t[13]||(t[13]=o("h3",{class:"font-semibold mb-1"},"No Summary Yet",-1)),t[14]||(t[14]=o("p",{class:"text-sm text-muted-foreground"},' Click "Generate Summary" to create a summary of your study materials ',-1))]),_:1})]),_:1}))])])]),_:1}))}});export{Ue as default};
